{"version":3,"sources":["store/filemaker.js","store/form.js","components/Header.js","images/logo.png","store/country.js","components/Registrar.js","components/Traveler.js","store/ageCalculate.js","components/TravelerTable.js","components/Room.js","components/AddRoom.js","components/Receipt.js","components/Content.js","components/Agreement.js","components/Submit.js","components/Footer.js","components/Loader.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["initialState","credential","token","filemakerSlice","createSlice","name","reducers","setToken","state","action","payload","getToken","a","config","method","url","headers","Authorization","data","axios","res","response","findRecord","gn","query","groupNumber","actions","formSlice","departureDate","availableSeat","tourSubject","deposit","priceTable","TOURPACKAGE_GROUPPRICE_roomAvailable","price","adult","kid","infant","roomOccupancyTable","form","totalPrice","totalDeposit","registrar","phoneCode","receiptName","receiptNo","receiptNote","room","setForm","seat_available","TOURPACKAGE_SALSEPRICE_D_StandardPrice_1_","TOURPACKAGE_SALSEPRICE_D_StandardPrice_2_","TOURPACKAGE_SALSEPRICE_D_StandardPrice_3_","setPriceTable","priceTable_group","updateRoomTable","indexPrevious","index","setRegistrar","input","value","firstName","lastName","email","country","mobile","address","setTraveler","traveler","push","clearTraveler","setRoom","updateRoomForm","roomType","setTotalPrice","setTotalDeposit","setReceipt","Header","useSelector","console","log","window","location","origin","className","role","src","alt","Registrar","forwardRef","props","ref","storeForm","registrarFormRef","useRef","dispatch","useDispatch","useState","validated","setValidated","onChangeInput","e","filter","useImperativeHandle","triggerHandleAddRoom","current","dispatchEvent","Event","bubbles","cancelable","Form","id","noValidate","onSubmit","event","currentTarget","checkValidity","preventDefault","stopPropagation","htmlFor","type","onChange","target","required","defaultValue","Traveler","modal","travelerSet","indexNo","isKid","roomMaxOccupancy","isAnyKidInRoomWithBed","currRoomType","filteredTable","arr","TOURPACKAGE_GROUPPRICE_roomTypeName","formRef","genderRef","isTravelerSet","length","isStillHasBed","showKidBed","setShowKidBed","undefined","startDate","setStartDate","gender","dob","citizenId","status","kidWithBed","remark","travelerForm","setTravelerForm","show","setShow","years","start","end","Array","from","_","i","range","Date","getFullYear","months","handleClose","callFromParent","alert","TOURPACKAGE_GROUPPRICE_child","TOURPACKAGE_GROUPPRICE_kid","TOURPACKAGE_GROUPPRICE_infant","month","getMonth","toString","padStart","year","day","getDate","combined","born","dobYear","getYear","dobMonth","dobDate","departure","currentYear","currentMonth","currentDate","yearAge","monthAge","ageCalculate","youngChild","TOURPACKAGE_GROUPPRICE_adult","Modal","onHide","backdrop","keyboard","Title","Button","variant","onClick","Badge","bg","Body","renderCustomHeader","date","changeYear","changeMonth","decreaseMonth","increaseMonth","prevMonthButtonDisabled","nextMonthButtonDisabled","style","margin","gap","display","justifyContent","disabled","color","size","map","option","indexOf","dateFormat","selected","maxDate","withPortal","disabledKeyboardNavigation","onFocus","blur","checked","TravelerTable","travelers","Table","Room","checkRegistrarForm","inputRoom","setInputRoom","setRoomMaxOccupancy","borderColor","inputStyle","setInputStyle","isOpen","setIsOpen","childRef","selectedOption","setSelectedOption","setIsKid","some","el","isAnyKidInRoom","roomTypeAvailable","rooms","curRooms","forEach","roomOccupancy","registrarIsSet","registrarObj","every","key","hasOwnProperty","text","InputGroup","Text","Select","ev","findIndex","item","TOURPACKAGE_GROUPPRICE_roomMaxOccupancy","onChangeValue","AddRoom","roomLeft","setRoomLeft","trevelerPrevRoom","availableRoom","reduce","prev","curr","useEffect","ifPrevRoomHasTraveler","Receipt","Accordion","Item","eventKey","Group","Control","placeholder","Content","Agreement","scope","href","Submit","setLoadingFromChild","queryParams","URLSearchParams","search","defaultDeposit","infantDeposit","depositList","totalPeople","totalInfant","people","calculateDeposit","dt","calculatePrice","total","p","currentData","compareData","originalData","cnt","cur","arrRoomType","Object","keys","val","anyErr","filterOriginalData","payment","get","result","getCurrentData","JSON","parse","stringify","portalData","replaceAll","triggerHandleSubmit","replace","Check","inline","label","defaultChecked","feedback","feedbackType","Footer","Container","Row","Col","xs","md","Loader","loading","App","setloading","fieldData","isTrue","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","filemaker","filemakerReducer","formReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b51382cc.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  credential: \"c3lzdGVtQXBpOiQ3cUxgU3kmOl45X10mJzI=\",\r\n  token: \"\",\r\n};\r\n\r\nexport const filemakerSlice = createSlice({\r\n  name: \"filemaker\",\r\n  initialState,\r\n  reducers: {\r\n    setToken: (state, action) => {\r\n      state.token = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n/* Handle Filemaker API */\r\n// Get Token\r\nexport const getToken = async () => {\r\n  const config = {\r\n    method: \"post\",\r\n    url: \"https://ofc.taiwanviptravel.com/fmi/data/v1/databases/TVT/sessions\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Basic ${initialState.credential}`,\r\n    },\r\n    data: {},\r\n  };\r\n  const res = await axios(config);\r\n  return res.data.response.token;\r\n};\r\n\r\n// Find\r\nexport const findRecord = async (gn, token) => {\r\n  const query = {\r\n    query: [\r\n      {\r\n        groupNumber: `==${gn}`,\r\n      },\r\n    ],\r\n  };\r\n  const config = {\r\n    method: \"post\",\r\n    url: \"https://ofc.taiwanviptravel.com/fmi/data/v1/databases/TVT/layouts/DATA_API_TOURPACKAGE/_find\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    data: query,\r\n  };\r\n  const res = await axios(config);\r\n  return res.data.response;\r\n};\r\n\r\nexport const { setToken } = filemakerSlice.actions;\r\nexport default filemakerSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  groupNumber: \"\",\r\n  departureDate: \"\",\r\n  availableSeat: 0,\r\n  tourSubject: \"\",\r\n  deposit: 0,\r\n  priceTable: [\r\n    { TOURPACKAGE_GROUPPRICE_roomAvailable: 0 },\r\n    { TOURPACKAGE_GROUPPRICE_roomAvailable: 0 },\r\n  ],\r\n  price: {\r\n    adult: 0,\r\n    kid: 0,\r\n    infant: 0,\r\n  },\r\n  roomOccupancyTable: [],\r\n  form: {\r\n    totalPrice: 0,\r\n    totalDeposit: 0,\r\n    registrar: {\r\n      // country: \"Taiwan\",\r\n      phoneCode: \"+886\",\r\n      receiptName: \"\",\r\n      receiptNo: \"\",\r\n      receiptNote: \"\",\r\n    },\r\n    room: [{}],\r\n  },\r\n};\r\n\r\nexport const formSlice = createSlice({\r\n  name: \"form\",\r\n  initialState,\r\n  reducers: {\r\n    setForm: (state, action) => {\r\n      const {\r\n        groupNumber,\r\n        departureDate,\r\n        seat_available,\r\n        tourSubject,\r\n        deposit,\r\n        TOURPACKAGE_SALSEPRICE_D_StandardPrice_1_,\r\n        TOURPACKAGE_SALSEPRICE_D_StandardPrice_2_,\r\n        TOURPACKAGE_SALSEPRICE_D_StandardPrice_3_,\r\n      } = action.payload;\r\n      state.groupNumber = groupNumber;\r\n      state.departureDate = departureDate;\r\n      state.availableSeat = seat_available;\r\n      state.tourSubject = tourSubject;\r\n      state.deposit = deposit;\r\n      state.price.adult = TOURPACKAGE_SALSEPRICE_D_StandardPrice_1_;\r\n      state.price.kid = TOURPACKAGE_SALSEPRICE_D_StandardPrice_2_;\r\n      state.price.infant = TOURPACKAGE_SALSEPRICE_D_StandardPrice_3_;\r\n    },\r\n    setPriceTable: (state, action) => {\r\n      const { priceTable_group } = action.payload;\r\n      state.priceTable = priceTable_group;\r\n      state.roomOccupancyTable = priceTable_group;\r\n    },\r\n    updateRoomTable: (state, action) => {\r\n      const { indexPrevious, index } = action.payload;\r\n      if (indexPrevious == null && index != null) {\r\n        state.roomOccupancyTable[index][\r\n          \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n        ] =\r\n          state.roomOccupancyTable[index][\r\n            \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n          ] - 1;\r\n      } else if (indexPrevious != null && index != null) {\r\n        state.roomOccupancyTable[indexPrevious][\r\n          \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n        ] =\r\n          state.roomOccupancyTable[indexPrevious][\r\n            \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n          ] + 1;\r\n\r\n        state.roomOccupancyTable[index][\r\n          \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n        ] =\r\n          state.roomOccupancyTable[index][\r\n            \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n          ] - 1;\r\n      } else {\r\n        state.roomOccupancyTable[indexPrevious][\r\n          \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n        ] =\r\n          state.roomOccupancyTable[indexPrevious][\r\n            \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n          ] + 1;\r\n      }\r\n\r\n      // if (indexPrevious != null) {\r\n      //   state.roomOccupancyTable[indexPrevious][\r\n      //     \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n      //   ] =\r\n      //     state.roomOccupancyTable[indexPrevious][\r\n      //       \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n      //     ] + 1;\r\n      // }\r\n      // state.roomOccupancyTable[index][\r\n      //   \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n      // ] =\r\n      //   state.roomOccupancyTable[index][\r\n      //     \"TOURPACKAGE_GROUPPRICE_roomAvailable\"\r\n      //   ] - 1;\r\n      // const index = state.roomOccupancyTable.findIndex((item)=>item.TOURPACKAGE_GROUPPRICE_roomTypeName == action.payload)\r\n    },\r\n    setRegistrar: (state, action) => {\r\n      const { input, value } = action.payload;\r\n      switch (input) {\r\n        case \"fn\":\r\n          state.form.registrar = { ...state.form.registrar, firstName: value };\r\n          break;\r\n        case \"ln\":\r\n          state.form.registrar = { ...state.form.registrar, lastName: value };\r\n          break;\r\n        case \"email\":\r\n          state.form.registrar = { ...state.form.registrar, email: value };\r\n          break;\r\n        case \"country\":\r\n          state.form.registrar = { ...state.form.registrar, country: value };\r\n          break;\r\n        case \"phoneCode\":\r\n          state.form.registrar = { ...state.form.registrar, phoneCode: value };\r\n          break;\r\n        case \"mobile\":\r\n          state.form.registrar = { ...state.form.registrar, mobile: value };\r\n          break;\r\n        case \"address\":\r\n          state.form.registrar = { ...state.form.registrar, address: value };\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    setTraveler: (state, action) => {\r\n      const { index, traveler } = action.payload;\r\n      if (!state.form.room[index].traveler) {\r\n        state.form.room[index].traveler = [];\r\n      }\r\n      state.form.room[index].traveler.push(traveler);\r\n      // state.form.traveler.push(action.payload);\r\n    },\r\n    clearTraveler: (state, action) => {\r\n      const { index } = action.payload;\r\n      if (state.form.room[index].traveler) state.form.room[index].traveler = [];\r\n    },\r\n    setRoom: (state) => {\r\n      state.form.room.push({});\r\n    },\r\n    updateRoomForm: (state, action) => {\r\n      const { index, roomType } = action.payload;\r\n      if (!state.form.room[index].traveler) {\r\n        state.form.room[index].traveler = [];\r\n      }\r\n      state.form.room[index].roomType = roomType;\r\n    },\r\n    setTotalPrice: (state, action) => {\r\n      state.form.totalPrice = action.payload;\r\n    },\r\n    setTotalDeposit: (state, action) => {\r\n      state.form.totalDeposit = action.payload;\r\n    },\r\n    setReceipt: (state, action) => {\r\n      const { input, value } = action.payload;\r\n      switch (input) {\r\n        case \"receiptName\":\r\n          state.form.registrar.receiptName = value;\r\n          break;\r\n        case \"receiptNo\":\r\n          state.form.registrar.receiptNo = value;\r\n          break;\r\n        case \"receiptNote\":\r\n          state.form.registrar.receiptNote = value;\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setForm,\r\n  updateRoomForm,\r\n  clearTraveler,\r\n  setRegistrar,\r\n  setTraveler,\r\n  setPriceTable,\r\n  setRoom,\r\n  updateRoomTable,\r\n  setTotalPrice,\r\n  setTotalDeposit,\r\n  setReceipt,\r\n} = formSlice.actions;\r\nexport default formSlice.reducer;\r\n","import { useSelector } from \"react-redux\";\r\nimport logo from '../images/logo.png';\r\nexport const Header = () => {\r\n  const { departureDate, availableSeat, tourSubject } = useSelector(\r\n    (state) => state.form\r\n  );\r\n  console.log(window.location.origin);\r\n  return (\r\n    <div className=\"w-100\">\r\n      <div className=\"alert alert-primary\" role=\"alert\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 text-center text-md-start\">\r\n              <img className=\"logo\" src={logo} alt=\"Logo\" />\r\n            </div>\r\n            <div className=\"col-12 px-0 fs-6 fw-bold text-center\">出發日： {departureDate}</div>\r\n            {/* <div className=\"col-6 px-0 text-end\">\r\n              Available Seat:\r\n              <span\r\n                className={`badge rounded-circle ${\r\n                  availableSeat === 0\r\n                    ? \"bg-danger\"\r\n                    : availableSeat < 6\r\n                    ? \"bg-warning\"\r\n                    : \"bg-success\"\r\n                }`}\r\n              >\r\n                {availableSeat}\r\n              </span>\r\n            </div> */}\r\n        <div className=\"text-center fw-bold fs-6 col-12 sm:mt-3\">{tourSubject}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","export default \"data:image/png;base64,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\"","export const country = [\r\n  { country: \"Afghanistan\", phoneCode: \"+93\" },\r\n  { country: \"Albania\", phoneCode: \"+355\" },\r\n  { country: \"Algeria\", phoneCode: \"+213\" },\r\n  { country: \"American Samoa\", phoneCode: \"+1-684\" },\r\n  { country: \"Andorra\", phoneCode: \"+376\" },\r\n  { country: \"Angola\", phoneCode: \"+244\" },\r\n  { country: \"Anguilla\", phoneCode: \"+1-264\" },\r\n  { country: \"Antarctica\", phoneCode: \"+672\" },\r\n  { country: \"Antigua and Barbuda\", phoneCode: \"+1-268\" },\r\n  { country: \"Argentina\", phoneCode: \"+54\" },\r\n  { country: \"Armenia\", phoneCode: \"+374\" },\r\n  { country: \"Aruba\", phoneCode: \"+297\" },\r\n  { country: \"Australia\", phoneCode: \"+61\" },\r\n  { country: \"Austria\", phoneCode: \"+43\" },\r\n  { country: \"Azerbaijan\", phoneCode: \"+994\" },\r\n  { country: \"Bahamas\", phoneCode: \"+1-242\" },\r\n  { country: \"Bahrain\", phoneCode: \"+973\" },\r\n  { country: \"Bangladesh\", phoneCode: \"+880\" },\r\n  { country: \"Barbados\", phoneCode: \"+1-246\" },\r\n  { country: \"Belarus\", phoneCode: \"+375\" },\r\n  { country: \"Belgium\", phoneCode: \"+32\" },\r\n  { country: \"Belize\", phoneCode: \"+501\" },\r\n  { country: \"Benin\", phoneCode: \"+229\" },\r\n  { country: \"Bermuda\", phoneCode: \"+1-441\" },\r\n  { country: \"Bhutan\", phoneCode: \"+975\" },\r\n  { country: \"Bolivia\", phoneCode: \"+591\" },\r\n  { country: \"Bosnia and Herzegovina\", phoneCode: \"+387\" },\r\n  { country: \"Botswana\", phoneCode: \"+267\" },\r\n  { country: \"Brazil\", phoneCode: \"+55\" },\r\n  { country: \"British Indian Ocean Territory\", phoneCode: \"+246\" },\r\n  { country: \"British Virgin Islands\", phoneCode: \"+1-284\" },\r\n  { country: \"Brunei\", phoneCode: \"+673\" },\r\n  { country: \"Bulgaria\", phoneCode: \"+359\" },\r\n  { country: \"Burkina Faso\", phoneCode: \"+226\" },\r\n  { country: \"Burundi\", phoneCode: \"+257\" },\r\n  { country: \"Cambodia\", phoneCode: \"+855\" },\r\n  { country: \"Cameroon\", phoneCode: \"+237\" },\r\n  { country: \"Canada\", phoneCode: \"+1\" },\r\n  { country: \"Cape Verde\", phoneCode: \"+238\" },\r\n  { country: \"Cayman Islands\", phoneCode: \"+1-345\" },\r\n  { country: \"Central African Republic\", phoneCode: \"+236\" },\r\n  { country: \"Chad\", phoneCode: \"+235\" },\r\n  { country: \"Chile\", phoneCode: \"+56\" },\r\n  { country: \"China\", phoneCode: \"+86\" },\r\n  { country: \"Christmas Island\", phoneCode: \"+61\" },\r\n  { country: \"Cocos Islands\", phoneCode: \"+61\" },\r\n  { country: \"Colombia\", phoneCode: \"+57\" },\r\n  { country: \"Comoros\", phoneCode: \"+269\" },\r\n  { country: \"Cook Islands\", phoneCode: \"+682\" },\r\n  { country: \"Costa Rica\", phoneCode: \"+506\" },\r\n  { country: \"Croatia\", phoneCode: \"+385\" },\r\n  { country: \"Cuba\", phoneCode: \"+53\" },\r\n  { country: \"Curacao\", phoneCode: \"+599\" },\r\n  { country: \"Cyprus\", phoneCode: \"+357\" },\r\n  { country: \"Czech Republic\", phoneCode: \"+420\" },\r\n  { country: \"Democratic Republic of the Congo\", phoneCode: \"+243\" },\r\n  { country: \"Denmark\", phoneCode: \"+45\" },\r\n  { country: \"Djibouti\", phoneCode: \"+253\" },\r\n  { country: \"Dominica\", phoneCode: \"+1-767\" },\r\n  { country: \"Dominican Republic\", phoneCode: \"+1-809, 1-829, 1-849\" },\r\n  { country: \"East Timor\", phoneCode: \"+670\" },\r\n  { country: \"Ecuador\", phoneCode: \"+593\" },\r\n  { country: \"Egypt\", phoneCode: \"+20\" },\r\n  { country: \"El Salvador\", phoneCode: \"+503\" },\r\n  { country: \"Equatorial Guinea\", phoneCode: \"+240\" },\r\n  { country: \"Eritrea\", phoneCode: \"+291\" },\r\n  { country: \"Estonia\", phoneCode: \"+372\" },\r\n  { country: \"Ethiopia\", phoneCode: \"+251\" },\r\n  { country: \"Falkland Islands\", phoneCode: \"+500\" },\r\n  { country: \"Faroe Islands\", phoneCode: \"+298\" },\r\n  { country: \"Fiji\", phoneCode: \"+679\" },\r\n  { country: \"Finland\", phoneCode: \"+358\" },\r\n  { country: \"France\", phoneCode: \"+33\" },\r\n  { country: \"French Polynesia\", phoneCode: \"+689\" },\r\n  { country: \"Gabon\", phoneCode: \"+241\" },\r\n  { country: \"Gambia\", phoneCode: \"+220\" },\r\n  { country: \"Georgia\", phoneCode: \"+995\" },\r\n  { country: \"Germany\", phoneCode: \"+49\" },\r\n  { country: \"Ghana\", phoneCode: \"+233\" },\r\n  { country: \"Gibraltar\", phoneCode: \"+350\" },\r\n  { country: \"Greece\", phoneCode: \"+30\" },\r\n  { country: \"Greenland\", phoneCode: \"+299\" },\r\n  { country: \"Grenada\", phoneCode: \"+1-473\" },\r\n  { country: \"Guam\", phoneCode: \"+1-671\" },\r\n  { country: \"Guatemala\", phoneCode: \"+502\" },\r\n  { country: \"Guernsey\", phoneCode: \"+44-1481\" },\r\n  { country: \"Guinea\", phoneCode: \"+224\" },\r\n  { country: \"Guinea-Bissau\", phoneCode: \"+245\" },\r\n  { country: \"Guyana\", phoneCode: \"+592\" },\r\n  { country: \"Haiti\", phoneCode: \"+509\" },\r\n  { country: \"Honduras\", phoneCode: \"+504\" },\r\n  { country: \"Hong Kong\", phoneCode: \"+852\" },\r\n  { country: \"Hungary\", phoneCode: \"+36\" },\r\n  { country: \"Iceland\", phoneCode: \"+354\" },\r\n  { country: \"India\", phoneCode: \"+91\" },\r\n  { country: \"Indonesia\", phoneCode: \"+62\" },\r\n  { country: \"Iran\", phoneCode: \"+98\" },\r\n  { country: \"Iraq\", phoneCode: \"+964\" },\r\n  { country: \"Ireland\", phoneCode: \"+353\" },\r\n  { country: \"Isle of Man\", phoneCode: \"+44-1624\" },\r\n  { country: \"Israel\", phoneCode: \"+972\" },\r\n  { country: \"Italy\", phoneCode: \"+39\" },\r\n  { country: \"Ivory Coast\", phoneCode: \"+225\" },\r\n  { country: \"Jamaica\", phoneCode: \"+1-876\" },\r\n  { country: \"Japan\", phoneCode: \"+81\" },\r\n  { country: \"Jersey\", phoneCode: \"+44-1534\" },\r\n  { country: \"Jordan\", phoneCode: \"+962\" },\r\n  { country: \"Kazakhstan\", phoneCode: \"+7\" },\r\n  { country: \"Kenya\", phoneCode: \"+254\" },\r\n  { country: \"Kiribati\", phoneCode: \"+686\" },\r\n  { country: \"Kosovo\", phoneCode: \"+383\" },\r\n  { country: \"Kuwait\", phoneCode: \"+965\" },\r\n  { country: \"Kyrgyzstan\", phoneCode: \"+996\" },\r\n  { country: \"Laos\", phoneCode: \"+856\" },\r\n  { country: \"Latvia\", phoneCode: \"+371\" },\r\n  { country: \"Lebanon\", phoneCode: \"+961\" },\r\n  { country: \"Lesotho\", phoneCode: \"+266\" },\r\n  { country: \"Liberia\", phoneCode: \"+231\" },\r\n  { country: \"Libya\", phoneCode: \"+218\" },\r\n  { country: \"Liechtenstein\", phoneCode: \"+423\" },\r\n  { country: \"Lithuania\", phoneCode: \"+370\" },\r\n  { country: \"Luxembourg\", phoneCode: \"+352\" },\r\n  { country: \"Macau\", phoneCode: \"+853\" },\r\n  { country: \"Macedonia\", phoneCode: \"+389\" },\r\n  { country: \"Madagascar\", phoneCode: \"+261\" },\r\n  { country: \"Malawi\", phoneCode: \"+265\" },\r\n  { country: \"Malaysia\", phoneCode: \"+60\" },\r\n  { country: \"Maldives\", phoneCode: \"+960\" },\r\n  { country: \"Mali\", phoneCode: \"+223\" },\r\n  { country: \"Malta\", phoneCode: \"+356\" },\r\n  { country: \"Marshall Islands\", phoneCode: \"+692\" },\r\n  { country: \"Mauritania\", phoneCode: \"+222\" },\r\n  { country: \"Mauritius\", phoneCode: \"+230\" },\r\n  { country: \"Mayotte\", phoneCode: \"+262\" },\r\n  { country: \"Mexico\", phoneCode: \"+52\" },\r\n  { country: \"Micronesia\", phoneCode: \"+691\" },\r\n  { country: \"Moldova\", phoneCode: \"+373\" },\r\n  { country: \"Monaco\", phoneCode: \"+377\" },\r\n  { country: \"Mongolia\", phoneCode: \"+976\" },\r\n  { country: \"Montenegro\", phoneCode: \"+382\" },\r\n  { country: \"Montserrat\", phoneCode: \"+1-664\" },\r\n  { country: \"Morocco\", phoneCode: \"+212\" },\r\n  { country: \"Mozambique\", phoneCode: \"+258\" },\r\n  { country: \"Myanmar\", phoneCode: \"+95\" },\r\n  { country: \"Namibia\", phoneCode: \"+264\" },\r\n  { country: \"Nauru\", phoneCode: \"+674\" },\r\n  { country: \"Nepal\", phoneCode: \"+977\" },\r\n  { country: \"Netherlands\", phoneCode: \"+31\" },\r\n  { country: \"Netherlands Antilles\", phoneCode: \"+599\" },\r\n  { country: \"New Caledonia\", phoneCode: \"+687\" },\r\n  { country: \"New Zealand\", phoneCode: \"+64\" },\r\n  { country: \"Nicaragua\", phoneCode: \"+505\" },\r\n  { country: \"Niger\", phoneCode: \"+227\" },\r\n  { country: \"Nigeria\", phoneCode: \"+234\" },\r\n  { country: \"Niue\", phoneCode: \"+683\" },\r\n  { country: \"North Korea\", phoneCode: \"+850\" },\r\n  { country: \"Northern Mariana Islands\", phoneCode: \"+1-670\" },\r\n  { country: \"Norway\", phoneCode: \"+47\" },\r\n  { country: \"Oman\", phoneCode: \"+968\" },\r\n  { country: \"Pakistan\", phoneCode: \"+92\" },\r\n  { country: \"Palau\", phoneCode: \"+680\" },\r\n  { country: \"Palestine\", phoneCode: \"+970\" },\r\n  { country: \"Panama\", phoneCode: \"+507\" },\r\n  { country: \"Papua New Guinea\", phoneCode: \"+675\" },\r\n  { country: \"Paraguay\", phoneCode: \"+595\" },\r\n  { country: \"Peru\", phoneCode: \"+51\" },\r\n  { country: \"Philippines\", phoneCode: \"+63\" },\r\n  { country: \"Pitcairn\", phoneCode: \"+64\" },\r\n  { country: \"Poland\", phoneCode: \"+48\" },\r\n  { country: \"Portugal\", phoneCode: \"+351\" },\r\n  { country: \"Puerto Rico\", phoneCode: \"+1-787, 1-939\" },\r\n  { country: \"Qatar\", phoneCode: \"+974\" },\r\n  { country: \"Republic of the Congo\", phoneCode: \"+242\" },\r\n  { country: \"Reunion\", phoneCode: \"+262\" },\r\n  { country: \"Romania\", phoneCode: \"+40\" },\r\n  { country: \"Russia\", phoneCode: \"+7\" },\r\n  { country: \"Rwanda\", phoneCode: \"+250\" },\r\n  { country: \"Saint Barthelemy\", phoneCode: \"+590\" },\r\n  { country: \"Saint Helena\", phoneCode: \"+290\" },\r\n  { country: \"Saint Kitts and Nevis\", phoneCode: \"+1-869\" },\r\n  { country: \"Saint Lucia\", phoneCode: \"+1-758\" },\r\n  { country: \"Saint Martin\", phoneCode: \"+590\" },\r\n  { country: \"Saint Pierre and Miquelon\", phoneCode: \"+508\" },\r\n  { country: \"Saint Vincent and the Grenadines\", phoneCode: \"+1-784\" },\r\n  { country: \"Samoa\", phoneCode: \"+685\" },\r\n  { country: \"San Marino\", phoneCode: \"+378\" },\r\n  { country: \"Sao Tome and Principe\", phoneCode: \"+239\" },\r\n  { country: \"Saudi Arabia\", phoneCode: \"+966\" },\r\n  { country: \"Senegal\", phoneCode: \"+221\" },\r\n  { country: \"Serbia\", phoneCode: \"+381\" },\r\n  { country: \"Seychelles\", phoneCode: \"+248\" },\r\n  { country: \"Sierra Leone\", phoneCode: \"+232\" },\r\n  { country: \"Singapore\", phoneCode: \"+65\" },\r\n  { country: \"Sint Maarten\", phoneCode: \"+1-721\" },\r\n  { country: \"Slovakia\", phoneCode: \"+421\" },\r\n  { country: \"Slovenia\", phoneCode: \"+386\" },\r\n  { country: \"Solomon Islands\", phoneCode: \"+677\" },\r\n  { country: \"Somalia\", phoneCode: \"+252\" },\r\n  { country: \"South Africa\", phoneCode: \"+27\" },\r\n  { country: \"South Korea\", phoneCode: \"+82\" },\r\n  { country: \"South Sudan\", phoneCode: \"+211\" },\r\n  { country: \"Spain\", phoneCode: \"+34\" },\r\n  { country: \"Sri Lanka\", phoneCode: \"+94\" },\r\n  { country: \"Sudan\", phoneCode: \"+249\" },\r\n  { country: \"Suriname\", phoneCode: \"+597\" },\r\n  { country: \"Svalbard and Jan Mayen\", phoneCode: \"+47\" },\r\n  { country: \"Swaziland\", phoneCode: \"+268\" },\r\n  { country: \"Sweden\", phoneCode: \"+46\" },\r\n  { country: \"Switzerland\", phoneCode: \"+41\" },\r\n  { country: \"Syria\", phoneCode: \"+963\" },\r\n  { country: \"Taiwan\", phoneCode: \"+886\" },\r\n  { country: \"Tajikistan\", phoneCode: \"+992\" },\r\n  { country: \"Tanzania\", phoneCode: \"+255\" },\r\n  { country: \"Thailand\", phoneCode: \"+66\" },\r\n  { country: \"Togo\", phoneCode: \"+228\" },\r\n  { country: \"Tokelau\", phoneCode: \"+690\" },\r\n  { country: \"Tonga\", phoneCode: \"+676\" },\r\n  { country: \"Trinidad and Tobago\", phoneCode: \"+1-868\" },\r\n  { country: \"Tunisia\", phoneCode: \"+216\" },\r\n  { country: \"Turkey\", phoneCode: \"+90\" },\r\n  { country: \"Turkmenistan\", phoneCode: \"+993\" },\r\n  { country: \"Turks and Caicos Islands\", phoneCode: \"+1-649\" },\r\n  { country: \"Tuvalu\", phoneCode: \"+688\" },\r\n  { country: \"U.S. Virgin Islands\", phoneCode: \"+1-340\" },\r\n  { country: \"Uganda\", phoneCode: \"+256\" },\r\n  { country: \"Ukraine\", phoneCode: \"+380\" },\r\n  { country: \"United Arab Emirates\", phoneCode: \"+971\" },\r\n  { country: \"United Kingdom\", phoneCode: \"+44\" },\r\n  { country: \"United States\", phoneCode: \"+1\" },\r\n  { country: \"Uruguay\", phoneCode: \"+598\" },\r\n  { country: \"Uzbekistan\", phoneCode: \"+998\" },\r\n  { country: \"Vanuatu\", phoneCode: \"+678\" },\r\n  { country: \"Vatican\", phoneCode: \"+379\" },\r\n  { country: \"Venezuela\", phoneCode: \"+58\" },\r\n  { country: \"Vietnam\", phoneCode: \"+84\" },\r\n  { country: \"Wallis and Futuna\", phoneCode: \"+681\" },\r\n  { country: \"Western Sahara\", phoneCode: \"+212\" },\r\n  { country: \"Yemen\", phoneCode: \"+967\" },\r\n  { country: \"Zambia\", phoneCode: \"+260\" },\r\n  { country: \"Zimbabwe\", phoneCode: \"+263\" },\r\n];\r\n\r\n\r\n","import { setRegistrar } from \"../store/form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { country } from \"../store/country\";\r\nimport {\r\n  forwardRef,\r\n  useState,\r\n  useRef,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nconst Registrar = forwardRef((props, ref) => {\r\n  const storeForm = useSelector((state) => state.form.form);\r\n  const registrarFormRef = useRef(null);\r\n  \r\n  const dispatch = useDispatch();\r\n  const [validated, setValidated] = useState(false);\r\n\r\n  const onChangeInput = (input, e) => {\r\n    dispatch(setRegistrar({ input: input, value: e }));\r\n    if (input === \"country\") {\r\n      const tempCountry = country.filter((state) => state.country === e);\r\n      const phoneCode = tempCountry[0].phoneCode;\r\n      dispatch(setRegistrar({ input: \"phoneCode\", value: phoneCode }));\r\n    }\r\n  };\r\n  useImperativeHandle(ref, () => ({\r\n    triggerHandleAddRoom() {\r\n      registrarFormRef.current.dispatchEvent(\r\n        new Event(\"submit\", { bubbles: true, cancelable: true })\r\n      );\r\n    },\r\n  }));\r\n\r\n  const handleAddRoom = (event) => {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    } else {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"registrar\">\r\n      <h3 className=\"fw-bold text-center mb-4 mt-3\">訂購人</h3>\r\n      <Form\r\n        className=\"row g-3 needs-validation\"\r\n        id=\"registrarId\"\r\n        noValidate\r\n        validated={validated}\r\n        onSubmit={handleAddRoom}\r\n        ref={registrarFormRef}\r\n      >\r\n        <div className=\"col-6 col-md-6\">\r\n          <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n            姓氏/ Last name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control shadow-sm\"\r\n            id=\"validationCustom02\"\r\n            onChange={(e) => onChangeInput(\"ln\", e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"col-6 col-md-6\">\r\n          <label htmlFor=\"validationCustom01\" className=\"form-label\">\r\n            名字/ First name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control shadow-sm\"\r\n            id=\"validationCustom01\"\r\n            onChange={(e) => onChangeInput(\"fn\", e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"col-md-12\">\r\n          <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n            Email\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control shadow-sm\"\r\n            id=\"validationCustom02\"\r\n            onChange={(e) => onChangeInput(\"email\", e.target.value)}\r\n            required\r\n          />          \r\n        </div>\r\n        {/* <div className=\"col-md-6\">\r\n          <label htmlFor=\"validationCustom04\" className=\"form-label\">\r\n            國家/ Country\r\n          </label>\r\n          <select\r\n            className=\"form-select shadow-sm\"\r\n            id=\"validationCustom04\"\r\n            defaultValue=\"Taiwan\"\r\n            onChange={(e) => onChangeInput(\"country\", e.target.value)}\r\n            required\r\n          >\r\n            {country.map((e, key) => {\r\n              return (\r\n                <option key={key} value={e.country}>\r\n                  {e.country}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div> */}\r\n        <div className=\"col-sm-12\">\r\n          <label htmlFor=\"validationCustom04\" className=\"form-label\">\r\n            聯絡電話/ Contact Number\r\n          </label>\r\n          <div className=\"input-group\">\r\n            {/* <span className=\"input-group-text\" id=\"basic-addon1\">\r\n              \r\n            </span> */}\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control shadow-sm w-25 text-center\"\r\n              aria-label=\"phoneNumber\"\r\n              aria-describedby=\"basic-addon1\"\r\n              onChange={(e) => onChangeInput(\"phoneCode\", e.target.value)}\r\n              required\r\n              defaultValue={storeForm.registrar.phoneCode}\r\n              // value={storeForm.registrar.phoneCode}\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control shadow-sm w-75\"\r\n              aria-label=\"phoneNumber\"\r\n              aria-describedby=\"basic-addon1\"\r\n              onChange={(e) => onChangeInput(\"mobile\", e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-12\">\r\n          <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n            地址/ Address\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control shadow-sm\"\r\n            id=\"validationCustom02\"\r\n            onChange={(e) => onChangeInput(\"address\", e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        {/* {rooms.map((room, index) => (\r\n          <Room\r\n            key={index}\r\n            indexNo={index}\r\n            triggerHandleAddRoom={triggerHandleAddRoom}\r\n          />\r\n        ))} */}\r\n      </Form>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Registrar;","import { useState, forwardRef, useImperativeHandle, useRef } from \"react\";\r\nimport { Button, Modal, Form, Badge } from \"react-bootstrap\";\r\n// import { country } from \"../store/country\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setTraveler } from \"../store/form\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { ageCalculate } from \"../store/ageCalculate\";\r\nimport * as Icon from \"react-bootstrap-icons\";\r\n\r\nexport const Traveler = forwardRef(\r\n  (\r\n    {\r\n      modal,\r\n      travelerSet,\r\n      indexNo,\r\n      isKid,\r\n      isAnyKidInRoomWithBed,\r\n      roomMaxOccupancy,\r\n    },\r\n    ref\r\n  ) => {\r\n    const storeForm = useSelector((state) => state.form);\r\n    //set price table\r\n    const priceTable = useSelector((state) => state.form.priceTable);\r\n    const currRoomType = storeForm.form.room[indexNo].roomType;\r\n    const filteredTable = priceTable.filter(\r\n      (arr) => arr.TOURPACKAGE_GROUPPRICE_roomTypeName === currRoomType\r\n    );\r\n    const formRef = useRef();\r\n    const genderRef = useRef();\r\n    // check if current room has traveler\r\n    const isTravelerSet = useSelector((state) => {\r\n      if (state.form.form.room[indexNo].traveler) {\r\n        if (state.form.form.room[indexNo].traveler.length > 0) {\r\n          // if (state.form.form.room[indexNo].traveler.length >= roomMaxOccupancy)\r\n          //   setIsStillHasBed(false);\r\n          return true;\r\n        }\r\n      } else return false;\r\n    });\r\n    // check if current room still has bed, so can set a bed for kid\r\n    const isStillHasBed = useSelector((state) => {\r\n      if (state.form.form.room[indexNo].traveler) {\r\n        if (state.form.form.room[indexNo].traveler.length >= roomMaxOccupancy) {\r\n          return false;\r\n        } else return true;\r\n      } else return true;\r\n    });\r\n\r\n    // console.log(isKid);\r\n    const [showKidBed, setShowKidBed] = useState(false);\r\n    const [startDate, setStartDate] = useState(undefined);\r\n    const [travelerForm, setTravelerForm] = useState({\r\n      lastName: \"\",\r\n      firstName: \"\",\r\n      gender: \"male\",\r\n      email: \"\",\r\n      country: \"Taiwan\",\r\n      phoneCode: \"+886\",\r\n      mobile: \"\",\r\n      dob: \"\",\r\n      citizenId: \"\",\r\n      status: \"\",\r\n      kidWithBed: false,\r\n      remark: \"\",\r\n      price: 0,\r\n    });\r\n    const dispatch = useDispatch();\r\n    const [show, setShow] = useState(false);\r\n    const [validated, setValidated] = useState(false);\r\n    const range = (start, end, length = end - start + 1) =>\r\n      Array.from({ length }, (_, i) => start + i);\r\n    const years = range(1931, new Date().getFullYear() + 1);\r\n    const months = [\r\n      \"一月\",\r\n      \"二月\",\r\n      \"三月\",\r\n      \"四月\",\r\n      \"五月\",\r\n      \"六月\",\r\n      \"七月\",\r\n      \"八月\",\r\n      \"九月\",\r\n      \"十月\",\r\n      \"十一月\",\r\n      \"十二月\",\r\n    ];\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => {\r\n      // Clear form traveler on open\r\n      setStartDate(undefined);\r\n      setShowKidBed(false);\r\n      setTravelerForm({\r\n        lastName: \"\",\r\n        firstName: \"\",\r\n        gender: \"male\",\r\n        email: \"\",\r\n        country: \"Taiwan\",\r\n        phoneCode: \"+886\",\r\n        mobile: \"\",\r\n        citizenId: \"\",\r\n        dob: \"\",\r\n        status: \"\",\r\n        kidWithBed: false,\r\n        remark: \"\",\r\n        price: 0,\r\n      });\r\n      // console.log(priceTable);\r\n      modal ? setShow(true) : setShow(false);\r\n\r\n      if (storeForm.form.room[indexNo].traveler) {\r\n        if (\r\n          storeForm.form.room[indexNo].traveler.length >=\r\n          storeForm.availableSeat\r\n        ) {\r\n          alert(\"Limit seat exceeded\");\r\n          setShow(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    useImperativeHandle(ref, () => ({\r\n      callFromParent() {\r\n        handleShow();\r\n        setValidated(false);\r\n      },\r\n    }));\r\n\r\n    const handleTraveler = (event) => {\r\n      const form = event.currentTarget;\r\n      if (form.checkValidity() === false) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } else {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        travelerSet();\r\n        dispatch(setTraveler({ index: indexNo, traveler: travelerForm }));\r\n        handleClose();\r\n      }\r\n      setValidated(true);\r\n    };\r\n\r\n    const onChangeInput = (input, e) => {\r\n      switch (input) {\r\n        // case \"country\":\r\n        //   const tempCountry = country.filter((state) => state.country === e);\r\n        //   setTravelerForm({\r\n        //     ...travelerForm,\r\n        //     phoneCode: tempCountry[0].phoneCode,\r\n        //   });\r\n        //   break;\r\n        case \"lastName\":\r\n          setTravelerForm({ ...travelerForm, lastName: e });\r\n          break;\r\n        case \"firstName\":\r\n          setTravelerForm({ ...travelerForm, firstName: e });\r\n          break;\r\n        case \"gender\":\r\n          setTravelerForm({ ...travelerForm, gender: e });\r\n          break;\r\n        case \"email\":\r\n          setTravelerForm({ ...travelerForm, email: e });\r\n          break;\r\n        // case \"country\":\r\n        //   setTravelerForm({ ...travelerForm, country: e });\r\n        //   break;\r\n        case \"phoneCode\":\r\n          setTravelerForm({ ...travelerForm, phoneCode: e });\r\n          break;\r\n        case \"mobile\":\r\n          setTravelerForm({ ...travelerForm, mobile: e });\r\n          break;\r\n        case \"kidWithBed\":\r\n          // if kid with bed use child price else use original price\r\n          if (e) {\r\n            setTravelerForm({\r\n              ...travelerForm,\r\n              price: filteredTable[0].TOURPACKAGE_GROUPPRICE_child,\r\n              kidWithBed: true,\r\n            });\r\n          } else {\r\n            if (travelerForm.status === \"kid\")\r\n              setTravelerForm({\r\n                ...travelerForm,\r\n                price: filteredTable[0].TOURPACKAGE_GROUPPRICE_kid,\r\n                kidWithBed: false,\r\n              });\r\n            else\r\n              setTravelerForm({\r\n                ...travelerForm,\r\n                price: filteredTable[0].TOURPACKAGE_GROUPPRICE_infant,\r\n                kidWithBed: false,\r\n              });\r\n          }\r\n\r\n          break;\r\n        case \"dob\":\r\n          setStartDate(e);\r\n          const month = (e.getMonth() + 1).toString().padStart(2, \"0\");\r\n          const year = e.getFullYear();\r\n          const day = e.getDate();\r\n          const combined = `${month}/${day}/${year}`;\r\n          // set status age\r\n          const status = ageCalculate(combined, storeForm.departureDate);\r\n          // youngChild is status kid or infant\r\n          let youngChild = false;\r\n          if (status === \"kid\" || status === \"infant\") youngChild = true;\r\n\r\n          // if youngChild setShow\r\n          if (isStillHasBed && youngChild) setShowKidBed(true);\r\n          else setShowKidBed(false);\r\n\r\n          //firs traveler set should be an adult\r\n          // if (indexNo === 0 && !isTravelerSet && status !== \"adult\") {\r\n          if (!isTravelerSet && status !== \"adult\") {\r\n            alert(\"First Traveler should be an Adult\");\r\n            setShowKidBed(false);\r\n            setStartDate(undefined);\r\n          } else if (isKid && !youngChild) {\r\n            alert(\"Can only add kid with age < 7 years old\");\r\n            setStartDate(undefined);\r\n          } /*else if (youngChild && isAnyKidInRoom) {\r\n            alert(\"Only one kid allowed in a room\");\r\n            setStartDate(undefined);\r\n          } else if (isKid && youngChild && !isStillHasBed && isAnyKidInRoomWithBed) {\r\n            alert(\"Can only add kid with age < 7 years old\");\r\n            setStartDate(undefined);\r\n          } */ else {\r\n            // Set Price'\r\n            let price = 0;\r\n            switch (status) {\r\n              case \"adult\":\r\n                price = filteredTable[0].TOURPACKAGE_GROUPPRICE_adult;\r\n                break;\r\n              case \"child\":\r\n                price = filteredTable[0].TOURPACKAGE_GROUPPRICE_child;\r\n                break;\r\n              case \"kid\":\r\n                price = filteredTable[0].TOURPACKAGE_GROUPPRICE_kid;\r\n                break;\r\n              case \"infant\":\r\n                price = filteredTable[0].TOURPACKAGE_GROUPPRICE_infant;\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            setTravelerForm({\r\n              ...travelerForm,\r\n              dob: combined,\r\n              status: status,\r\n              price: price,\r\n            });\r\n          }\r\n          // genderRef.current.focus();\r\n\r\n          break;\r\n        case \"citizenId\":\r\n          setTravelerForm({ ...travelerForm, citizenId: e });\r\n          break;\r\n        case \"remark\":\r\n          setTravelerForm({ ...travelerForm, remark: e });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n    const copyRegistrarToTraveler = () => {\r\n      setTravelerForm({\r\n        ...travelerForm,\r\n        firstName: storeForm.form.registrar.firstName,\r\n        lastName: storeForm.form.registrar.lastName,\r\n        email: storeForm.form.registrar.email,\r\n        country: storeForm.form.registrar.country,\r\n        phoneCode: storeForm.form.registrar.phoneCode,\r\n        mobile: storeForm.form.registrar.mobile,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <div className=\"traveler\">\r\n        {/* <div className=\"d-flex justify-content-between\">\r\n        <h2>Traveler</h2>\r\n        <Button variant=\"primary\" onClick={handleShow}>\r\n          Add Traveler\r\n        </Button>\r\n      </div> */}\r\n\r\n        <Modal\r\n          show={show}\r\n          onHide={handleClose}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header>\r\n            <Modal.Title>\r\n              旅客 ({storeForm.form.room[indexNo].roomType})\r\n            </Modal.Title>\r\n            {indexNo === 0 && !isTravelerSet ? (\r\n              <Button\r\n                variant=\"outline-info\"\r\n                onClick={() => copyRegistrarToTraveler()}\r\n              >\r\n                與訂購人相同\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {isKid ? <Badge bg=\"info\">Kid Only</Badge> : \"\"}\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <>\r\n              <Form\r\n                className=\"row g-3\"\r\n                noValidate\r\n                validated={validated}\r\n                ref={formRef}\r\n                onSubmit={handleTraveler}\r\n              >\r\n                <div className=\"col-6 col-md-6\">\r\n                  <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n                    姓氏/ Last name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control shadow-sm\"\r\n                    id=\"validationCustom02\"\r\n                    onChange={(e) => onChangeInput(\"lastName\", e.target.value)}\r\n                    required\r\n                    value={travelerForm.lastName}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6 col-md-6\">\r\n                  <label htmlFor=\"validationCustom01\" className=\"form-label\">\r\n                    名字/ First name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control shadow-sm\"\r\n                    id=\"validationCustom01\"\r\n                    onChange={(e) => onChangeInput(\"firstName\", e.target.value)}\r\n                    required\r\n                    value={travelerForm.firstName}\r\n                  />\r\n                </div>\r\n                <div className=\"col-6 col-md-6\">\r\n                  <label htmlFor=\"validationCustom01\" className=\"form-label\">\r\n                    生別/ Gender\r\n                  </label>\r\n                  <select\r\n                    className=\"form-select shadow-sm\"\r\n                    id=\"validationCustom04\"\r\n                    // defaultValue=\"male\"\r\n                    onChange={(e) => onChangeInput(\"gender\", e.target.value)}\r\n                    required\r\n                    value={travelerForm.gender}\r\n                  >\r\n                    <option value=\"male\">男</option>\r\n                    <option value=\"female\">女</option>\r\n                  </select>\r\n                </div>\r\n                {/* <div className=\"col-md-6\">\r\n                <label htmlFor=\"validationCustom04\" className=\"form-label\">\r\n                  國家/ Country\r\n                </label>\r\n                <select\r\n                  className=\"form-select shadow-sm\"\r\n                  id=\"validationCustom04\"\r\n                  // defaultValue={travelerForm.country}\r\n                  onChange={(e) => onChangeInput(\"country\", e.target.value)}\r\n                  required\r\n                  value={travelerForm.country}\r\n                >\r\n                  {country.map((e, key) => {\r\n                    return (\r\n                      <option key={key} value={e.country}>\r\n                        {e.country}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div> */}\r\n\r\n                {/* <div className=\"col-md-6\">\r\n                <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n                  Email\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control shadow-sm\"\r\n                  id=\"validationCustom02\"\r\n                  onChange={(e) => onChangeInput(\"email\", e.target.value)}\r\n                  required\r\n                  value={travelerForm.email}\r\n                />\r\n              </div> */}\r\n                <div className=\"col-6 col-md-6\">\r\n                  <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n                    生日/ Date of Birth\r\n                  </label>\r\n                  <DatePicker\r\n                    className=\"form-control shadow-sm\"\r\n                    renderCustomHeader={({\r\n                      date,\r\n                      changeYear,\r\n                      changeMonth,\r\n                      decreaseMonth,\r\n                      increaseMonth,\r\n                      prevMonthButtonDisabled,\r\n                      nextMonthButtonDisabled,\r\n                    }) => (\r\n                      <div\r\n                        style={{\r\n                          margin: 2,\r\n                          gap: 5,\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                        }}\r\n                      >\r\n                        <button\r\n                          onClick={decreaseMonth}\r\n                          disabled={prevMonthButtonDisabled}\r\n                          className=\"btn px-1\"\r\n                        >\r\n                          {<Icon.ArrowLeftCircle color={\"white\"} size={24} />}\r\n                        </button>\r\n                        <select\r\n                          value={date.getFullYear()}\r\n                          onChange={({ target: { value } }) =>\r\n                            changeYear(value)\r\n                          }\r\n                          className=\"rounded p-1 px-3\"\r\n                        >\r\n                          {years.map((option) => (\r\n                            <option key={option} value={option}>\r\n                              {option}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n\r\n                        <select\r\n                          value={months[date.getMonth()]}\r\n                          onChange={({ target: { value } }) =>\r\n                            changeMonth(months.indexOf(value))\r\n                          }\r\n                          className=\"rounded\"\r\n                        >\r\n                          {months.map((option) => (\r\n                            <option key={option} value={option}>\r\n                              {option}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n\r\n                        <button\r\n                          onClick={increaseMonth}\r\n                          disabled={nextMonthButtonDisabled}\r\n                          className=\"btn px-1\"\r\n                        >\r\n                          {<Icon.ArrowRightCircle color={\"white\"} size={24} />}\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                    dateFormat=\"MM/dd/yyyy\"\r\n                    selected={startDate}\r\n                    maxDate={new Date() - 1}\r\n                    required\r\n                    onChange={(e) => onChangeInput(\"dob\", e)}\r\n                    withPortal\r\n                    disabledKeyboardNavigation\r\n                    onFocus={(e) => e.target.blur()}\r\n                  />\r\n                </div>\r\n                {showKidBed ? (\r\n                  <div className=\"col-md-12\">\r\n                    <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n                      Set Bed\r\n                    </label>\r\n                    <div className=\"form-check\">\r\n                      <input\r\n                        className=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"invalidCheck\"\r\n                        onChange={(e) =>\r\n                          onChangeInput(\"kidWithBed\", e.target.checked)\r\n                        }\r\n                      />\r\n                      <label className=\"\">With Bed</label>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                <div className=\"col-md-12\">\r\n                  <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n                    身份證/ Id\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control shadow-sm\"\r\n                    id=\"validationCustom02\"\r\n                    onChange={(e) => onChangeInput(\"citizenId\", e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"border-top pt-2\">\r\n                  <Badge>選填資料</Badge>\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                  <label htmlFor=\"validationCustom02\" className=\"form-label\">\r\n                    其他特殊要求/ Remark\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control shadow-sm\"\r\n                    id=\"validationCustom02\"\r\n                    onChange={(e) => onChangeInput(\"remark\", e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"col-sm-12\">\r\n                  <label htmlFor=\"validationCustom04\" className=\"form-label\">\r\n                    聯絡電話/ Contact Number\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    {/* <span className=\"input-group-text\" id=\"basic-addon1\">\r\n                    {travelerForm.phoneCode}\r\n                  </span> */}\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control shadow-sm w-25 text-center\"\r\n                      aria-label=\"phoneNumber\"\r\n                      aria-describedby=\"basic-addon1\"\r\n                      onChange={(e) =>\r\n                        onChangeInput(\"phoneCode\", e.target.value)\r\n                      }\r\n                      defaultValue=\"+886\"\r\n                      // value={storeForm.registrar.phoneCode}\r\n                    />\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-control shadow-sm w-75\"\r\n                      aria-label=\"phoneNumber\"\r\n                      aria-describedby=\"basic-addon1\"\r\n                      onChange={(e) => onChangeInput(\"mobile\", e.target.value)}\r\n                      value={travelerForm.mobile}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <h4>Price: {travelerForm.price} NTD</h4>\r\n                <div className=\"d-flex gap-2 justify-content-end\">\r\n                  <Button\r\n                    ref={genderRef}\r\n                    variant=\"secondary\"\r\n                    onClick={handleClose}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                  <Button variant=\"primary\" type=\"submit\">\r\n                    Confirm\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </>\r\n          </Modal.Body>\r\n          {/* <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\">Submit</Button>\r\n        </Modal.Footer> */}\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","export const ageCalculate = (born, departureDate) => {\r\n  var dob = new Date(born);\r\n  //extract the year, month, and date from user date input\r\n\r\n  var dobYear = dob.getYear();\r\n  var dobMonth = dob.getMonth();\r\n  var dobDate = dob.getDate();\r\n\r\n  //get departure date\r\n  // alert(this.GET_TOURPACKAGE.departureDate)\r\n  var departure = new Date(departureDate);\r\n  //extract the year, month, and date from departure date\r\n  var currentYear = departure.getYear();\r\n  var currentMonth = departure.getMonth();\r\n  var currentDate = departure.getDate();\r\n\r\n  //declare a variable to collect the age in year, month, and days\r\n  var age = {};\r\n  var yearAge = 0;\r\n  var monthAge = 0;\r\n  var dateAge = 0;\r\n  //get years\r\n  yearAge = currentYear - dobYear;\r\n\r\n  //get months\r\n  if (currentMonth >= dobMonth)\r\n    //get months when current month is greater\r\n    monthAge = currentMonth - dobMonth;\r\n  else {\r\n    yearAge--;\r\n    monthAge = 12 + currentMonth - dobMonth;\r\n  }\r\n\r\n  //get days\r\n  if (currentDate >= dobDate)\r\n    //get days when the current date is greater\r\n    dateAge = currentDate - dobDate;\r\n  else {\r\n    monthAge--;\r\n    dateAge = 31 + currentDate - dobDate;\r\n\r\n    if (monthAge < 0) {\r\n      monthAge = 11;\r\n      yearAge--;\r\n    }\r\n  }\r\n  //group the age in a single variable\r\n  // age = {\r\n  //   years: yearAge,\r\n  //   months: monthAge,\r\n  //   days: dateAge,\r\n  // };\r\n\r\n  //display the calculated age\r\n\r\n  if (yearAge >= 12) return \"adult\";\r\n  else if (yearAge < 12 && yearAge >= 7) return \"child\";\r\n  else if (yearAge < 7 && yearAge >= 3) return \"kid\";\r\n  else if (yearAge < 3) return \"infant\";\r\n};\r\n","import { Table } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const TravelerTable = ({ indexNo }) => {\r\n  const travelers = useSelector((state) => state.form.form.room[indexNo].traveler);\r\n  return (\r\n    <div className=\"mt-4 mb-5 px-3\">\r\n      {travelers && travelers.length > 0 ? (\r\n        <div>\r\n          <Table size=\"sm\">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                <th className=\"text-center\">#</th>\r\n                <th>Name</th>\r\n                <th>Status</th>\r\n                <th>Price</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {travelers.map(({ firstName, lastName, price, status }, index) => {\r\n                return (\r\n                  <tr key={index}>\r\n                    <td className=\"text-center\">{index + 1}</td>\r\n                    <td>{lastName + \" \" + firstName}</td>\r\n                    <td>{status}</td>\r\n                    <td>{price}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useRef } from \"react\";\r\nimport { Form, InputGroup, Badge } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { updateRoomTable, updateRoomForm, clearTraveler } from \"../store/form\";\r\nimport { Traveler } from \"./Traveler\";\r\nimport { TravelerTable } from \"./TravelerTable\";\r\n\r\nexport const Room = ({ indexNo, checkRegistrarForm }) => {\r\n  const [inputRoom, setInputRoom] = useState(\"\");\r\n  const [roomMaxOccupancy, setRoomMaxOccupancy] = useState(0);\r\n  const [inputStyle, setInputStyle] = useState({ borderColor: \"\" });\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const childRef = useRef();\r\n  const [selectedOption, setSelectedOption] = useState(\"\");\r\n  // set if guest less than 12 years old, show label in Traveler component\r\n  const [isKid, setIsKid] = useState(false);\r\n  // Check if already has any kid or infant in the room\r\n  const isAnyKidInRoomWithBed = useSelector((state) => {\r\n    if (state.form.form.room[indexNo].traveler) {\r\n      if (state.form.form.room[indexNo].traveler.length > 0) {\r\n        return (function userExists() {\r\n          return state.form.form.room[indexNo].traveler.some(function (el) {\r\n            if (el.status === \"kid\" || el.status === \"infant\") {\r\n              if (el.kidWithBed === true) return true;\r\n              else return false;\r\n            } else return false;\r\n          });\r\n        })();\r\n      }\r\n    } else return false;\r\n  });\r\n  const isAnyKidInRoom = useSelector((state) => {\r\n    if (state.form.form.room[indexNo].traveler) {\r\n      if (state.form.form.room[indexNo].traveler.length > 0) {\r\n        return (function userExists() {\r\n          return state.form.form.room[indexNo].traveler.some(function (el) {\r\n            if (el.status === \"kid\" || el.status === \"infant\") return true;\r\n            else return false;\r\n          });\r\n        })();\r\n      }\r\n    } else return false;\r\n  });\r\n  const roomTypeAvailable = useSelector((state) => {\r\n    const rooms = state.form.roomOccupancyTable.filter(\r\n      (room) => room.TOURPACKAGE_GROUPPRICE_roomAvailable > 0\r\n    );\r\n    const curRooms = [];\r\n    rooms.forEach((room) => {\r\n      curRooms.push(room.TOURPACKAGE_GROUPPRICE_roomTypeName);\r\n    });\r\n    return curRooms;\r\n  });\r\n  const roomOccupancy = useSelector((state) => state.form.roomOccupancyTable);\r\n  const registrarIsSet = useSelector((state) => {\r\n    const keys = [\r\n      \"phoneCode\",\r\n      \"lastName\",\r\n      \"firstName\",\r\n      \"email\",\r\n      \"address\",\r\n      \"mobile\",\r\n    ];\r\n    const registrarObj = state.form.form.registrar;\r\n    const hasAllKeys = keys.every((key) => registrarObj.hasOwnProperty(key));\r\n    return hasAllKeys;\r\n  });\r\n\r\n  const onChangeValue = (ev) => {\r\n    setInputRoom(ev);\r\n    // Update store available room\r\n    if (ev && !inputRoom) {\r\n      const index = roomOccupancy.findIndex(\r\n        (item) => item.TOURPACKAGE_GROUPPRICE_roomTypeName === ev\r\n      );\r\n      dispatch(updateRoomTable({ indexPrevious: null, index: index }));\r\n    } else if (ev && inputRoom) {\r\n      const indexPrevious = roomOccupancy.findIndex(\r\n        (item) => item.TOURPACKAGE_GROUPPRICE_roomTypeName === inputRoom\r\n      );\r\n      const index = roomOccupancy.findIndex(\r\n        (item) => item.TOURPACKAGE_GROUPPRICE_roomTypeName === ev\r\n      );\r\n      dispatch(updateRoomTable({ indexPrevious: indexPrevious, index: index }));\r\n    } else {\r\n      const indexPrevious = roomOccupancy.findIndex(\r\n        (item) => item.TOURPACKAGE_GROUPPRICE_roomTypeName === inputRoom\r\n      );\r\n      dispatch(updateRoomTable({ indexPrevious: indexPrevious, index: null }));\r\n    }\r\n\r\n    //set max current max room occupancy\r\n    const currRoomType = roomOccupancy.filter(\r\n      (room) => room.TOURPACKAGE_GROUPPRICE_roomTypeName === ev\r\n    );\r\n    if (ev !== \"\") {\r\n      // if room selected not 配房, able to add kid (age < 7)\r\n      if (ev !== \"配房\") {\r\n        setRoomMaxOccupancy(\r\n          currRoomType[0].TOURPACKAGE_GROUPPRICE_roomMaxOccupancy + 1\r\n        );\r\n      } else {\r\n        setRoomMaxOccupancy(\r\n          currRoomType[0].TOURPACKAGE_GROUPPRICE_roomMaxOccupancy\r\n        );\r\n      }\r\n      // setRoom Store\r\n      dispatch(updateRoomForm({ index: indexNo, roomType: ev }));\r\n    } else {\r\n      setRoomMaxOccupancy(0);\r\n    }\r\n\r\n    //Clear Traveler list room changed\r\n    dispatch(clearTraveler({ index: indexNo }));\r\n    setSelectedOption(\"\");\r\n  };\r\n\r\n  const addTraveler = () => {\r\n    checkRegistrarForm();\r\n    // console.log(\r\n    //   \"isAnyKidInRoom: \" +\r\n    //     isAnyKidInRoom +\r\n    //     \", isAnyKidInRoomWithBed: \" +\r\n    //     isAnyKidInRoomWithBed\r\n    // );\r\n    if (inputRoom === \"\") {\r\n      setInputStyle({ borderColor: \"red\" });\r\n    } else if (roomMaxOccupancy === 0) {\r\n      alert(\"Treveler limit reach\");\r\n    } else if (!registrarIsSet) {\r\n      alert(\"Please fill all 訂購人\");\r\n    } else {\r\n      // need to compare roomMaxOccupancy with original roomMaxOccupancy\r\n      // console.log(roomMaxOccupancy +\" - \"+ roomMaxInitial)\r\n      if (roomMaxOccupancy === 1 && !isAnyKidInRoomWithBed && !isAnyKidInRoom) {\r\n        // if (roomMaxOccupancy === 1) {\r\n        setIsKid(true);\r\n      } else if (roomMaxOccupancy === 1 && isAnyKidInRoomWithBed) {\r\n        setIsKid(true);\r\n      } else if (\r\n        roomMaxOccupancy === 1 &&\r\n        isAnyKidInRoom &&\r\n        !isAnyKidInRoomWithBed\r\n      ) {\r\n        setIsKid(false);\r\n      } else {\r\n        setIsKid(false);\r\n      }\r\n      setInputStyle({ borderColor: \"green\" });\r\n      setIsOpen(true);\r\n      childRef.current.callFromParent();\r\n    }\r\n  };\r\n\r\n  const travelerSet = () => {\r\n    setRoomMaxOccupancy(roomMaxOccupancy - 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-2 mb-2 shadow-sm mt-4 mb-3 roomBox\">\r\n      <Badge bg=\"warning\" text=\"dark\" className=\"mb-2\">\r\n        Room {indexNo + 1}\r\n      </Badge>\r\n\r\n      <Form>\r\n        <InputGroup className=\"mb-2\">\r\n          <InputGroup.Text>可用客房</InputGroup.Text>\r\n          <Form.Select\r\n            aria-label=\"Default select example\"\r\n            onChange={(e) => onChangeValue(e.target.value)}\r\n            style={inputStyle}\r\n            value={selectedOption}\r\n          >\r\n            <option value=\"\">- Select -</option>\r\n            {roomTypeAvailable.map((room, index) => (\r\n              <option key={index} value={room}>\r\n                {room}\r\n              </option>\r\n            ))}\r\n          </Form.Select>\r\n        </InputGroup>\r\n      </Form>\r\n      <TravelerTable indexNo={indexNo} />\r\n      <div className=\"d-flex justify-content-between\">\r\n        <h5 className=\"text-green fw-bold\">選定房間: {inputRoom}</h5>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary btn-sm\"\r\n          onClick={() => addTraveler()}\r\n        >\r\n          加旅客 <span className=\"badge bg-danger\">{roomMaxOccupancy}</span>\r\n        </button>\r\n      </div>\r\n      <Traveler\r\n        ref={childRef}\r\n        modal={isOpen}\r\n        indexNo={indexNo}\r\n        travelerSet={travelerSet}\r\n        isKid={isKid}\r\n        roomMaxOccupancy={roomMaxOccupancy}\r\n        isAnyKidInRoomWithBed={isAnyKidInRoomWithBed}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setRoom } from \"../store/form\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport const AddRoom = () => {\r\n  const [roomLeft, setRoomLeft] = useState(0);\r\n  const trevelerPrevRoom = useSelector((state) => state.form.form.room);\r\n  const availableRoom = useSelector((state) => {\r\n    const currPriceTable = state.form.priceTable;\r\n    const x = currPriceTable.reduce(\r\n      (prev, curr) => prev + curr.TOURPACKAGE_GROUPPRICE_roomAvailable,\r\n      0\r\n    );\r\n    return x;\r\n  });\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    setRoomLeft(availableRoom - 1);\r\n  }, [availableRoom]);\r\n  const handleAddRoom = () => {\r\n    // check if previous room has traveler, if not set, cannot add room\r\n    let ifPrevRoomHasTraveler = false;\r\n    if (trevelerPrevRoom[trevelerPrevRoom.length - 1].traveler) {\r\n      if (trevelerPrevRoom[trevelerPrevRoom.length - 1].traveler.length > 0)\r\n        ifPrevRoomHasTraveler = true;\r\n    }\r\n    if (roomLeft === 0) {\r\n      alert(\"No more available room\");\r\n    } else if (!ifPrevRoomHasTraveler) {\r\n      alert(\"Please set traveler on previous room\");\r\n    } else {\r\n      setRoomLeft(roomLeft - 1);\r\n      dispatch(setRoom());\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"addRoom\">\r\n      <div className=\"d-flex justify-content-between mt-4 mb-4\">\r\n        <h3>\r\n          Rooms <span className=\"fs-6\">Left（{roomLeft}）</span>\r\n        </h3>\r\n        <button className=\"btn btn-primary px-5\" onClick={handleAddRoom}>\r\n          加房間\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Form, Accordion } from \"react-bootstrap\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setReceipt } from \"../store/form\";\r\nexport const Receipt = () => {\r\n  const dispatch = useDispatch();\r\n  const onChangeInput = (input, value) => {\r\n    dispatch(setReceipt({ input: input, value: value }));\r\n  };\r\n  return (\r\n    <div className=\"receipt\">\r\n      <Accordion>\r\n        <Accordion.Item eventKey=\"0\">\r\n          <Accordion.Header>填寫代收轉付收據</Accordion.Header>\r\n          <Accordion.Body>\r\n            <Form>\r\n              {/* <h4 className=\"text-center\">填寫代收轉付收據</h4> */}\r\n              <Form.Group className=\"mb-2\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"抬頭\"\r\n                  onChange={(e) => onChangeInput(\"receiptName\", e.target.value)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\">\r\n                <Form.Control type=\"text\" placeholder=\"統一編號\"  onChange={(e) => onChangeInput(\"receiptNo\", e.target.value)} />\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-2\">\r\n                <Form.Control type=\"text\" placeholder=\"代轉備註\"  onChange={(e) => onChangeInput(\"receiptNote\", e.target.value)} />\r\n              </Form.Group>\r\n            </Form>\r\n          </Accordion.Body>\r\n        </Accordion.Item>\r\n      </Accordion>\r\n    </div>\r\n  );\r\n};\r\n","import Registrar from \"./Registrar\";\r\nimport { Room } from \"./Room\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { AddRoom } from \"./AddRoom\";\r\nimport { useRef } from \"react\";\r\n\r\nimport { Receipt } from \"./Receipt\";\r\n\r\nexport const Content = () => {\r\n  const rooms = useSelector((state) => state.form.form.room);\r\n  const form = useSelector((state) => state.form.form);\r\n  const childRef = useRef();\r\n  const checkRegistrarForm = () => {\r\n    childRef.current.triggerHandleAddRoom();\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <Registrar ref={childRef} />\r\n      {rooms.map((room, index) => (\r\n        <Room key={index} indexNo={index} checkRegistrarForm={checkRegistrarForm} />\r\n      ))}\r\n      <Receipt />\r\n      <AddRoom />\r\n      {/* <p className=\"text-wrap text-break\">{JSON.stringify(form)}</p> */}\r\n    </div>\r\n  );\r\n};\r\n","import { Snow2 } from \"react-bootstrap-icons\";\r\n\r\nexport const Agreement = () => {\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <span className=\"badge bg-green fs-5 fst-normal mt-2\">\r\n        <Snow2 size={24} /> 報名須知\r\n      </span>\r\n      <div className=\"mt-2\">\r\n        <table className=\"table table-borderless table-sm\">\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\">\r\n                1.\r\n              </th>\r\n              <td>商務團成團最低人數20人， 超值團成團最低 人數25人。</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\">\r\n                2.\r\n              </th>\r\n              <td>於出發前第41日以前取消訂單，需收取訂單全額5%手續費；</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\"></th>\r\n              <td>於出發前31至40天取消訂單，需收取訂單全額10%手續費；</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\"></th>\r\n              <td>於出發前21至30天取消訂單，需收取訂單全額20%手續費；</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\"></th>\r\n              <td>於出發前2至20天取消訂單，需收取訂 單全額30%手續費；</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\"></th>\r\n              <td>於出發前1天取消訂單，需收取訂單全額50%手續費；</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\"></th>\r\n              <td>\r\n                於出發當天取消訂單、集合逾時、因個人因素私自脫隊、及未通知不參加者恕不退費。\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\">\r\n                3.\r\n              </th>\r\n              <td>\r\n                本行程如預颱風、地震、豪雨等不可抗拒之因素，本公司保有延期出發或退費之權利。\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\">\r\n                4.\r\n              </th>\r\n              <td>\r\n                依據您在本網上訂購並完成交易的內容及費用開立『旅行業\r\n                代收轉付』（非發票但效力等同）；如需開立抬頭統編，則請詳細填寫公司名稱、統一編號等資料後，我們將於出發當日由隨團秘書轉交給您。\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\" className=\"text-center\">\r\n                5.\r\n              </th>\r\n              <td>透過線上報名的貴賓，本公司保留是否接受報名的權利。</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <span className=\"badge bg-green fs-5 fst-normal mt-2\">\r\n        <Snow2 size={24} /> 定型化契約\r\n      </span>\r\n      <div className=\"scroll p-2 border mt-2\">\r\n        <p className=\"text-center\">國內旅遊定型化契約</p>\r\n        <p className=\"text-center\">\r\n          中華民國105年12月12日觀業字第1050922838號函修正\r\n        </p>\r\n        <p></p>\r\n        <p>立契約書人</p>\r\n        <p>（本契約審閱期間至少一日，__年__月__日由甲方攜回審閱）</p>\r\n        <p>旅客姓名：_____________（以下稱甲方）</p>\r\n        <p>緊急聯絡人</p>\r\n        <p> 姓名:</p>\r\n        <p> 與旅客關係:</p>\r\n        <p> 電話:</p>\r\n        <p>旅行社名稱: 希羅亞旅行社股份有限公司（以下稱乙方）</p>\r\n        &nbsp;\r\n        <p>甲乙雙方同意就本旅遊事項，依下列約定辦理。</p>\r\n        <p>第一條（國內旅遊之意義）</p>\r\n        <p>\r\n          本契約所謂國內旅遊，指在臺灣、澎湖、金門、馬祖及其他自由地區之我國疆域範圍內之旅遊。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二條（適用之範圍）</p>\r\n        <p>\r\n          甲乙雙方關於本旅遊之權利義務，依本契約條款之約定定之；本契約中未約定者，適用中華民國有關法令之規定。\r\n        </p>\r\n        &nbsp;\r\n        <p>第三條（旅遊團名稱、旅遊行程及廣告責任）</p>\r\n        <p>本旅遊團名稱為____________________________</p>\r\n        <p>一、旅遊地區（國家、城市或觀光地點）：________________</p>\r\n        <p>\r\n          二、行程（啟程出發地點、回程之終止地點、日期、交通工具、住宿旅館、餐飲、遊覽、安排購物行程及其所附隨之服務說明）：_________\r\n        </p>\r\n        <p>\r\n          與本契約有關之附件、廣告、宣傳文件、行程表或說明會之說明內容均視為本契約內容之一部分。\r\n        </p>\r\n        <p>乙方應確保廣告內容之真實，對甲方所負之義務不得低於廣告之內容。</p>\r\n        <p>\r\n          第一項記載得以所刊登之廣告、宣傳文件、行程表或說明會之說明內容代之。\r\n        </p>\r\n        <p>\r\n          未記載第一項內容或記載之內容與刊登廣告、宣傳文件、行程表或說明會之說明記載不符者，以最有利於旅客之內容為準。\r\n        </p>\r\n        &nbsp;\r\n        <p>第四條（集合及出發時地）</p>\r\n        <p>\r\n          甲方應於民國_____年____月____日於__________準時集合出發(以實際行前通知為主)。\r\n        </p>\r\n        <p>\r\n          甲方未準時到約定地點集合致未能出發，亦未能中途加入旅遊者，視為甲方任意解除契約，乙方得依第十二條之約定，行使損害賠償請求權。\r\n        </p>\r\n        &nbsp;\r\n        <p>第五條（旅遊費用及其付款方式）</p>\r\n        <p>旅遊費用：新台幣$_______________。</p>\r\n        <p>除雙方有特別約定者外，甲方應依下列約定繳付：</p>\r\n        <p>\r\n          一、簽訂本契約時，甲方應以現金、信用卡、轉帳、支票等方式繳付新臺幣__________元。\r\n        </p>\r\n        <p>\r\n          二、其餘款項$__________以現金、信用卡、轉帳、支票等方式，於出發前十日繳清。\r\n        </p>\r\n        <p>\r\n          前項之特別約定，除經雙方同意並記載於本契約第三十二條，雙方不得以任何名義要求增減旅遊費用。\r\n        </p>\r\n        &nbsp;\r\n        <p>第六條 (旅客怠於給付旅遊費用之效力)</p>\r\n        <p>\r\n          因可歸責於甲方之事由，怠於給付旅遊費用者，乙方得定相當期限催告甲方給付，甲方逾期不為給付者，乙方得終止契約。\r\n        </p>\r\n        <p>\r\n          甲方應賠償之費用，依第十二條約定辦理；乙方如有其他損害，並得請求賠償。\r\n        </p>\r\n        &nbsp;\r\n        <p>第七條 (旅客協力義務)</p>\r\n        <p>\r\n          旅遊需甲方之行為始能完成，而甲方不為其行為者，乙方得定相當期限，催告甲方為之。\r\n        </p>\r\n        <p>\r\n          甲方逾期不為其行為者，乙方得終止契約，並得請求賠償因契約終止而生之損害。\r\n        </p>\r\n        &nbsp;\r\n        <p>第八條（旅遊費用所涵蓋之項目）</p>\r\n        <p>\r\n          甲方依第五條約定繳納之旅遊費用，除雙方依第三十二條另有約定外，應包括下列項目：\r\n        </p>\r\n        <p>一、 代辦證件之行政規費：乙方代理甲方辦理所須證件之規費。</p>\r\n        <p>二、 交通運輸費：旅程所需各種交通運輸之費用。</p>\r\n        <p>三、 餐飲費：旅程中所列應由乙方安排之餐飲費用。</p>\r\n        <p>\r\n          四、\r\n          住宿費：旅程中所需之住宿旅館之費用，如甲方需要單人房，經乙方同意安排者，甲方應補繳所需差額。\r\n        </p>\r\n        <p>五、 遊覽費用：旅程中所列之一切遊覽費用及入場門票費等。</p>\r\n        <p>六、 接送費：旅遊期間機場、港口、車站等與旅館間之一切接送費用。</p>\r\n        <p>\r\n          七、\r\n          行李費：團體行李往返機場、港口、車站等與旅館間之一切接送費用及團體行李接送人員之小費，行李數量之重量依航空公司規定辦理。\r\n        </p>\r\n        <p>八、 稅捐：機場服務稅捐及團體餐宿稅捐等。</p>\r\n        <p>\r\n          九、 服務費：隨團服務人員之報酬及其他乙方為甲方安排服務人員之報酬。\r\n        </p>\r\n        <p>十、 保險費：責任保險及履約保證保險。</p>\r\n        <p>\r\n          十一、\r\n          乙方依行程約定所附之隨團攝影師，其拍攝之照片版權歸本公司所有。若無隨團攝影師，則此項不適用。\r\n        </p>\r\n        <p>\r\n          前項第二款交通運輸費及第五款遊覽費用，其費用於契約簽訂後經政府機關或經營管理業者公布調高或調低時，應由甲方補足，或由乙方退還。\r\n        </p>\r\n        <p>\r\n          第一項第二款至第五款之年長者門票減免、兒童住宿不佔床及各項優惠等，如契約相關文件均未記載者，甲方得請求如實退還差額。\r\n        </p>\r\n        &nbsp;\r\n        <p>第九條（旅遊費用所未涵蓋項目）</p>\r\n        <p>除雙方依第三十二條另有約定外，第五條之旅遊費用，不包括下列項目：</p>\r\n        <p>一、 非本旅遊契約所列行程之一切費用。</p>\r\n        <p>\r\n          二、\r\n          甲方個人費用：如自費行程費用、行李超重費、飲料及酒類、洗衣、電話、網際網路使用費、私人交通費、行程外陪同購物之報酬、自由活動費、個人傷病醫療費、宜自行給與提供個人服務者（如旅館客房服務人員）之小費或尋回遺失物費用及報酬。\r\n        </p>\r\n        <p>三、 未列入旅程之機票及其他有關費用。</p>\r\n        <p>四、 不需給予司機或隨團服務人員之小費。</p>\r\n        <p>五、 保險費：甲方自行投保旅行平安險之費用。</p>\r\n        <p>六、 其他由乙方代辦代收之費用。</p>\r\n        <p>\r\n          前項第二款、第四款建議給予之小費，乙方應於出發前，說明各觀光地區小費收取狀況及約略金額。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十條（組團旅遊最低人數）</p>\r\n        <p>本旅遊團須有__20__人以上簽約參加始組成。</p>\r\n        <p>\r\n          如未達前定人數，乙方應於預訂出發之__14__日前（至少七日，如未記載時，視為七日）通知甲方解除契約，怠於通知致甲方受損害者，乙方應賠償甲方損害。\r\n        </p>\r\n        <p>前項組團人數如未記載者，視為無最低組團人數；其保證出團者，亦同。</p>\r\n        <p>\r\n          乙方依第一項規定解除契約後，得依下列方式之一，返還或移作依第二款成立之新旅遊契約之旅遊費用：\r\n        </p>\r\n        <p>一、 退還甲方已交付之全部費用。但乙方已代繳之行政規費得予扣除。</p>\r\n        <p>\r\n          二、\r\n          徵得甲方同意，訂定另一旅遊契約，將依第一項解除契約應返還甲方之全部費用，移作該另訂之旅遊契約之費用全部或一部。如有超出之賸餘費用，應退還甲方。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十一條（因可歸責於旅行業之事由致無法成行）</p>\r\n        <p>\r\n          因可歸責於乙方之事由，致旅遊活動無法成行者，乙方於知悉旅遊活動無法成行時，應即通知甲方且說明其事由，並退還甲方已繳之旅遊費用。\r\n        </p>\r\n        <p>\r\n          前項情形，乙方怠於通知者，應賠償甲方依旅遊費用之全部計算之違約金。\r\n        </p>\r\n        <p>\r\n          乙方已為第一項通知者，則按通知到達甲方時，距出發日期時間之長短，依下列規定計算其應賠償甲方之違約金：\r\n        </p>\r\n        <p>一、通知於出發日前第四十一日以前到達者，賠償旅遊費用百分之五。</p>\r\n        <p>\r\n          二、通知於出發日前第三十一日至第四十日以內到達者，賠償旅遊費用百分之十。\r\n        </p>\r\n        <p>\r\n          三、通知於出發日前第二十一日至第三十日以內到達者，賠償旅遊費用百分之二十。\r\n        </p>\r\n        <p>\r\n          四、通知於出發日前第二日至第二十日以內到達者，賠償旅遊費用百分之三十。\r\n        </p>\r\n        <p>五、通知於出發日前一日到達者，賠償旅遊費用百分之五十。</p>\r\n        <p>六、通知於出發當日以後到達者，賠償旅遊費用百分之一百。</p>\r\n        <p>甲方如能證明其所損害超過前項各款基準者，得就其實際損害請求賠償。</p>\r\n        &nbsp;\r\n        <p>第十二條（出發前旅客任意解除契約及其責任）</p>\r\n        <p>\r\n          甲方於旅遊活動開始前得解除契約。但應於乙方提供收據後，繳交行政規費，並依列基準賠償：\r\n        </p>\r\n        <p>一、旅遊開始前第四十一日以前解除契約者，賠償旅遊費用百分之五。</p>\r\n        <p>\r\n          二、旅遊開始前第三十一日至第四十日以內解除契約者，賠償旅遊費用百分之十。\r\n        </p>\r\n        <p>\r\n          三、旅遊開始前第二十一日至第三十日以內解除契約者，賠償旅遊費用百分之二十。\r\n        </p>\r\n        <p>\r\n          四、旅遊開始前第二日至第二十日以內解除契約者，賠償旅遊費用百分之三十。\r\n        </p>\r\n        <p>五、旅遊開始前一日解除契約者，賠償旅遊費用百分之五十。</p>\r\n        <p>\r\n          六、旅遊開始日或開始後解除契約或未通知不參加者，賠償旅遊費用百分之一百。\r\n        </p>\r\n        <p>\r\n          前項規定作為損害賠償計算基準之旅遊費用，應先扣除行政規費後計算之。\r\n        </p>\r\n        <p>\r\n          乙方如能證明其所受損害超過第一項之基準者，得就其實際損害請求賠償。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十三條（出發前有法定原因解除契約）</p>\r\n        <p>\r\n          因不可抗力或不可歸責於雙方當事人之事由，致本契約之全部或一部無法履行時，任何一方得解除契約，且不負損害賠償責任。\r\n        </p>\r\n        <p>\r\n          前項情形，乙方應提出已代繳之行政規費或履行本契約已支付之全部必要費用之單據，經核實後予以扣除，並將餘款退還甲方。\r\n        </p>\r\n        <p>\r\n          任何一方知悉旅遊活動無法成行時，應即通知他方並說明其事由；其怠於通知致他方受有損害時，應負賠償責任。&nbsp;&nbsp;\r\n        </p>\r\n        <p>\r\n          為維護本契約旅遊團體之安全與利益，乙方依第一項為解除契約後，應為有利於旅遊團體之必要措置。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十四條（出發前有客觀風險事由解除契約）</p>\r\n        <p>\r\n          出發前，本旅遊團所前往旅遊地區之一，有事實足認危害旅客生命、身體、健康、財產安全之虞者，準用前條之規定，得解除契約。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十五條（證照之保管及返還）</p>\r\n        <p>\r\n          乙方代理甲方處理旅遊所需之手續，應妥慎保管甲方之各項證件；如有遺失或毀損，應即主動補辦。如致甲方受損害時，應賠償甲方之損害。\r\n        </p>\r\n        <p>\r\n          前項證件，乙方及其受僱人應以善良管理人之注意保管之；甲方得隨時取回，乙方及其受僱人不得拒絕。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十六條（旅客之變更權）</p>\r\n        <p>\r\n          甲方於旅遊開始__14__日前，因故不能參加旅遊者，得變更由第三人參加旅遊。乙方非有正當理由者，不得拒絕。\r\n        </p>\r\n        <p>\r\n          前項情形，如因而增加費用，乙方得請求該變更後之第三人給付；如減少費用，甲方不得請求返還。甲方並應於接到乙方通知後__2__日內協同該第三人到乙方營業處所辦理契約承擔手續。\r\n        </p>\r\n        <p>\r\n          承受本契約之第三人，與甲乙雙方辦理承擔手續完畢起，承繼甲方基於本契約一切權利義務。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十七條（旅行業務之轉讓）</p>\r\n        <p>\r\n          乙方於出發前如將本契約變更轉讓予其他旅行業者，應經甲方書面同意。甲方如不同意者，得解除契約，乙方應即時將甲方已繳之全部旅遊費用退還；甲方受有損害者，並得請求賠償。\r\n        </p>\r\n        <p>\r\n          甲方於出發後始發覺或被告知本契約已轉讓其他旅行業，乙方應賠償甲方全部旅遊費用百分之五之違約金；甲方受有損害者，並得請求賠償。受讓之旅行業或其履行輔助人，關於旅遊義務之履行，有故意或過失時，甲方亦得請求讓與之旅行業者負責。\r\n        </p>\r\n        &nbsp;\r\n        <p>第十八條（旅程內容之實現及例外）</p>\r\n        <p>\r\n          旅程中之食宿、交通、旅程、觀光點及遊覽項目等，應依本契約所訂等級與內容辦理，甲方不得要求變更，但乙方同意甲方之要求而變更者，不在此限，惟其所增加之費用應由甲方負擔。除非有本契約第十三條或第二十一條之情事，乙方不得以任何名義或理由變更旅遊內容。\r\n        </p>\r\n        <p>\r\n          因可歸責於乙方之事由且未經甲方同意，致未達本契約所定旅程、交通、食宿或遊覽項目等事宜時，甲方得請求乙方賠償各該差額二倍之違約金。\r\n        </p>\r\n        <p>\r\n          乙方應提出前項差額計算之說明，如未提出差額計算之說明時，其違約金之計算至少為全部旅遊費用之百分之五。\r\n        </p>\r\n        <p>甲方受有損害者，另得請求損害賠償。</p>\r\n        &nbsp;\r\n        <p>第十九條（因可歸責於旅行業之事由致行程延誤）</p>\r\n        <p>\r\n          因可歸責於乙方之事由，致延誤行程時，乙方應即徵得甲方之書面同意，繼續安排未完成之旅遊活動或安排甲方返回。\r\n        </p>\r\n        <p>\r\n          乙方怠於安排時，甲方得搭乘相當等級之交通工具自行返回出發地，其所支付之費用，應由乙方負擔。\r\n        </p>\r\n        <p>\r\n          第一項延誤行程期間，甲方所支出之食宿或其他必要費用，應由乙方負擔。甲方並得請求依全部旅費除以全部旅遊日數乘以延誤行程日數計算之違約金。延誤行程時數在五小時以上未滿一日者，以一日計算。\r\n        </p>\r\n        <p>\r\n          依第一項約定，安排甲方返回時，另應按實計算賠償甲方未完成旅程之費用及由出發地點到第一旅遊地與最後旅遊地返回之交通費用。甲方受有損害者，並得請求賠償。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十條（旅行業棄置或留滯旅客）</p>\r\n        <p>\r\n          乙方於旅遊途中，因故意棄置或留滯甲方時，除應負擔棄置或留滯期間甲方支出之食宿及其他必要費用，按實計算退還甲方未完成旅程之費用，及由出發地至第一旅遊地與最後旅遊地返回之交通費用外，並應至少賠償依全部旅遊費用除以全部旅遊日數乘以棄置或留滯日數後相同金額五倍之違約金。\r\n        </p>\r\n        <p>\r\n          乙方於旅遊途中，因重大過失有前項棄置或留滯甲方情事時，乙方除應依前項規定負擔相關費用外，並應至少賠償依前項規定計算之三倍違約金。\r\n        </p>\r\n        <p>\r\n          乙方於旅遊途中，因過失有第一項棄置或留滯甲方情事時，乙方除應依前項規定負擔相關費用外，並應賠償依第一項規定計算之一倍違約金。\r\n        </p>\r\n        <p>\r\n          前三項情形之棄置或留滯甲方之時間，在五小時以上未滿一日者，以一日計算；乙方並應儘速依預訂旅程安排旅遊活動，或安排甲方返回。\r\n        </p>\r\n        <p>甲方受有損害者，另得請求賠償。</p>\r\n        &nbsp;\r\n        <p>第二十一條（旅遊途中因非可歸責於旅行業之事由致旅遊內容變更）</p>\r\n        <p>\r\n          旅遊中因不可抗力或不可歸責於乙方之事由，致無法依預定之旅程、交通、食宿或遊覽項目等履行時，為維護旅遊團體之安全及利益，乙方得變更旅程、遊覽項目或更換食宿、旅程；其因此所增加之費用，不得向甲方收取，所減少之費用，應退還甲方。\r\n        </p>\r\n        <p>\r\n          甲方不同意前項變更旅程時，得終止契約，並得請求乙方墊付費用將其送回原出發地，於到達後附加年利率__1__％利息償還乙方。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十二條（責任歸屬與協辦）</p>\r\n        <p>\r\n          旅遊期間，因不可歸責於乙方之事由，致甲方搭乘飛機、輪船、火車、捷運、纜車等大眾運輸工具所受之損害者，應由各該提供服務之業者直接對甲方負責。但乙方應盡善良管理人之注意，協助甲方處理。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十三條（出發後旅客任意終止契約）</p>\r\n        <p>\r\n          甲方於旅遊活動開始後，中途離隊退出旅遊活動時，不得要求乙方退還旅遊費用。但乙方因甲方退出旅遊活動後，應可節省或無須支付之費用，應退還甲方。&nbsp;&nbsp;\r\n        </p>\r\n        <p>\r\n          前項情形，乙方並應為甲方安排脫隊後返回出發地之住宿及交通，其費用由甲方負擔。\r\n        </p>\r\n        <p>\r\n          甲方於旅遊活動開始後，未能及時參加依本契約所排定之行程者，視為自願放棄其權利，不得向乙方要求退費或任何補償。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十四條（旅客終止契約後之回程安排）</p>\r\n        <p>\r\n          甲方於旅遊活動開始後，怠於配合乙方完成旅遊所需之行為致影響後續旅遊行程，而終止契約者，甲方得請求乙方墊付費用將其送回原出發地，於到達後附加利息償還之，乙方不得拒絕。\r\n        </p>\r\n        <p>\r\n          前項情形，乙方因甲方退出旅遊活動後，應可節省或無須支出之費用，應退還甲方。\r\n        </p>\r\n        <p>乙方因第一項事由所受之損害，得向甲方請求賠償。</p>\r\n        &nbsp;\r\n        <p>第二十五條（旅行業之協助處理義務）</p>\r\n        <p>\r\n          甲方在旅遊中發生身體或財產上之事故時，乙方應盡善良管理人之注意為必要之協助及處理。\r\n        </p>\r\n        <p>\r\n          前項之事故，係因非可歸責於乙方之事由所致者，其所生之費用，由甲方負擔。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十六條（旅行業應投保責任保險及履約保證保險）</p>\r\n        <p>\r\n          乙方應依主管機關之規定投保責任保險及履約保證保險。責任保險投保金額：\r\n        </p>\r\n        <p>一、□依法令規定。</p>\r\n        <p>一、■高於法令規定，金額為：</p>\r\n        <p>(一)每一旅客意外死亡新臺幣__500萬__元。</p>\r\n        <p>\r\n          (二)每一旅客因意外事故所致體傷之醫療費用新臺幣__最高20萬__元。(實支實付)\r\n        </p>\r\n        <p>(三)國內旅遊善後處理費用新臺幣__最高5萬__元。(實支實付)</p>\r\n        <p>(四)每一旅客證件遺失之損害賠償費用新臺幣 元。(國內旅遊不適用)</p>\r\n        <p>\r\n          乙方如未依前項規定投保者，於發生旅遊事故或不能履約之情形，乙方應以主管機關規定最低投保金額計算其應理賠金額之三倍作為賠償金額。\r\n        </p>\r\n        <p>\r\n          乙方應於出團前，告知甲方有關投保旅行業責任保險之保險公司名稱及其連絡方式，以備甲方查詢。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十七條（購物及瑕疵損害之處理方式）</p>\r\n        <p>\r\n          乙方不得於旅遊途中，臨時安排甲方購物行程。但經甲方要求或同意者，不在此限。\r\n        </p>\r\n        <p>\r\n          乙方安排特定場所購物，所購物品有貨價與品質不相當或瑕疵者，甲方得於受領所購物品後一個月內，請求乙方協助其處理。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十八條（誠信原則）</p>\r\n        <p>\r\n          甲乙雙方應以誠信原則履行本契約。乙方依旅行業管理規則之規定，委託他旅行業代為招攬時，不得以未直接收甲方繳納費用，或以非直接招攬甲方參加本旅遊，或以本契約實際上非由乙方參與簽訂為抗辯。\r\n        </p>\r\n        &nbsp;\r\n        <p>第二十九條（消費爭議處理</p>\r\n        <p>本契約履約過程中發生爭議時，乙方應即主動與甲方協商解決之。</p>\r\n        <p>\r\n          乙方消費爭議處理申訴（客服）專線或電子信箱：\r\n          <a href=\"mailto:service@taiwanviptravel.com\">\r\n            service@taiwanviptravel.com\r\n          </a>\r\n          。\r\n        </p>\r\n        <p>\r\n          乙方對甲方之消費爭議申訴，應於三個營業日內專人聯繫處理，並依據消費者保護法之規定，自申訴之日起十五日內妥適處理之。\r\n        </p>\r\n        <p>\r\n          雙方經協商後仍無法解決爭議時，甲方得向交通部觀光局、直轄市或各縣（市）消費者保護官、直轄市或各縣（市）消費者爭議調解委員會、中華民國旅行業品質保障協會或鄉（鎮、市、區）公所調解委員會提出調解（處）申請，乙方除有正當理由外，不得拒絕出席調解（處）會。\r\n        </p>\r\n        &nbsp;\r\n        <p>第三十條（個人資料之保護）</p>\r\n        <p>\r\n          乙方因履行本契約之需要，於代辦證件、安排交通工具、住宿、餐飲、遊覽及其所附隨服務之目的內，甲方同意乙方得依法規規定蒐集、處理、傳輸及利用其個人資料。\r\n        </p>\r\n        <p>甲方：</p>\r\n        <p>\r\n          不同意（甲方如不同意，乙方將無法提供本契約之旅遊服務）（二者擇一勾選；未勾選者，視為不同意）\r\n        </p>\r\n        <p>簽名：</p>\r\n        <p>■同意</p>\r\n        <p>簽名：</p>\r\n        <p>\r\n          前項甲方之個人資料乙方負有保密義務，非經甲方書面同意或依法規規定，不得將其個人資料提供予第三人。\r\n        </p>\r\n        &nbsp;\r\n        <p>第三十一條（合意管轄法院之約定）</p>\r\n        <p>甲、乙雙方就本契約有關之爭議，以中華民國之法律為準據法。</p>\r\n        <p>\r\n          因本契約發生訴訟時，甲乙雙方同意以__台北__\r\n          地方法院為第一審管轄法院，但不得排除消費者保護法第四十七條或民事訴訟法第四百三十六條之九規定之小額訴訟管轄法院之適用。\r\n        </p>\r\n        &nbsp;\r\n        <p>第三十二條（其他協議事項）</p>\r\n        <p>甲乙雙方同意遵守下列各項：</p>\r\n        <p>一、甲方□同意 □不同意 乙方將其姓名提供給其他同團旅客。</p>\r\n        <p>二、甲方同意乙方依實際繳費金額開立代收轉付收據。</p>\r\n        <p>三、本公司保留是否接受報名的權利。</p>\r\n        <p>\r\n          前項協議事項，如有變更本契約其他條款之規定，除經交通部觀光局核准外，其約定無效，但有利於甲方者，不在此限。\r\n        </p>\r\n        &nbsp;\r\n        <p>訂約人</p>\r\n        <p>甲方：</p>\r\n        <p>地址：</p>\r\n        <p>身分證字號(統一編號)：</p>\r\n        <p>電話或傳真：</p>\r\n        &nbsp;\r\n        <p>乙方（公司名稱）：希羅亞旅行社股份有限公司</p>\r\n        <p>統一編號：43871553</p>\r\n        <p>負 責 人：戴東華</p>\r\n        <p>地址：台北市大安區復興南路一段137號14樓之3</p>\r\n        <p>電話：(02)2721-7300</p>\r\n        <p>簽約日期：中華民國______年___月___日</p>\r\n        <p>（如未記載，以首次交付金額之日為簽約日期）</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { setTotalPrice, setTotalDeposit } from \"../store/form\";\r\nimport { findRecord, getToken, setToken } from \"../store/filemaker\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nexport const Submit = ({ setLoadingFromChild }) => {\r\n  const [validated, setValidated] = useState(false);\r\n  const formRef = useRef(null);\r\n  const queryParams = new URLSearchParams(window.location.search);\r\n  const totalPrice = useSelector((state) => state.form.form.totalPrice);\r\n  const totalDeposit = useSelector((state) => state.form.form.totalDeposit);\r\n  const dispatch = useDispatch();\r\n  // infant use infant price as the deposit, other use default deposit\r\n  const defaultDeposit = useSelector((state) => state.form.deposit);\r\n  const infantDeposit = useSelector((state) => {\r\n    if (state.form.priceTable[0])\r\n      return state.form.priceTable[0].TOURPACKAGE_GROUPPRICE_infant;\r\n  });\r\n\r\n  const depositList = useSelector((state) => {\r\n    let totalPeople = 0;\r\n    let totalInfant = 0;\r\n    if (state.form.form.room) {\r\n      state.form.form.room.forEach((room) => {\r\n        if (room.traveler) {\r\n          room.traveler.forEach((traveler) => {\r\n            if (traveler.status === \"adult\") totalPeople++;\r\n            if (traveler.status === \"child\") totalPeople++;\r\n            if (traveler.status === \"kid\") totalPeople++;\r\n            if (traveler.status === \"infant\") totalInfant++;\r\n          });\r\n        }\r\n      });\r\n    }\r\n    return {\r\n      people: totalPeople,\r\n      infant: totalInfant,\r\n    };\r\n  });\r\n\r\n  const calculateDeposit = (dt) => {\r\n    const totalDeposit = dt.people * defaultDeposit + dt.infant * infantDeposit;\r\n    return totalDeposit;\r\n  };\r\n  const calculatePrice = useSelector((state) => {\r\n    if (state.form.form.room) {\r\n      if (state.form.form.room[0].traveler) {\r\n        if (state.form.form.room[0].traveler.length >= 1) {\r\n          let total = 0;\r\n          state.form.form.room.forEach((room) => {\r\n            if (room.traveler) {\r\n              let price = room.traveler.reduce((total, p) => {\r\n                if (p.price) return total + p.price;\r\n                else return total;\r\n              }, 0);\r\n              total = total + price;\r\n            }\r\n          });\r\n          return total;\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Compare original each type available room with current selected room\r\n  // if any total selected room more than original available room, error is set\r\n  // const originalData = useSelector((state) => state.form.priceTable);\r\n  const currentData = useSelector((state) => state.form.form.room);\r\n\r\n  const compareData = (originalData) => {\r\n    if (currentData[0].roomType) {\r\n      //calculate and populate current roomType like {單人房: 3, Villa: 1}\r\n      var map = currentData.reduce(\r\n        (cnt, cur) => ((cnt[cur.roomType] = cnt[cur.roomType] + 1 || 1), cnt),\r\n        {}\r\n      );\r\n      // set array room type using object keys, like  ['單人房', 'Villa']\r\n      const arrRoomType = Object.keys(map).filter((val) => val != \"undefined\");\r\n\r\n      //compare each roomType in array arrRoomType with originalData\r\n      //if any total room type selected larger than original roomType availble room, error is set\r\n      let anyErr = 0;\r\n      arrRoomType.forEach((type) => {\r\n        let filterOriginalData = originalData.filter(\r\n          (dt) => dt.TOURPACKAGE_GROUPPRICE_roomTypeName === type\r\n        );\r\n        // the comparison, i\r\n        if (\r\n          map[type] > filterOriginalData[0].TOURPACKAGE_GROUPPRICE_roomAvailable\r\n        )\r\n          anyErr += 1;\r\n      });\r\n      if (anyErr > 0) return true;\r\n      else return false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    calculatePrice\r\n      ? dispatch(setTotalPrice(calculatePrice))\r\n      : dispatch(setTotalPrice(0));\r\n    calculateDeposit\r\n      ? dispatch(setTotalDeposit(calculateDeposit(depositList)))\r\n      : dispatch(setTotalDeposit(0));\r\n  }, [calculatePrice, dispatch, calculateDeposit, depositList]);\r\n\r\n  const onSubmit = (payment) => {\r\n    setLoadingFromChild(true);\r\n    /**  Get latest data from filemaker, then compare currentData with it */\r\n    (async () => {\r\n      //Get Filemaker Session Token\r\n      const res = await getToken();\r\n      //Save token to store\r\n      dispatch(setToken(res));\r\n      const result = await findRecord(queryParams.get(\"groupNumber\"), res);\r\n\r\n      const getCurrentData = JSON.parse(\r\n        JSON.stringify(result.data[0].portalData).replaceAll(\r\n          /(::)|[(]|[)]/g,\r\n          \"_\"\r\n        )\r\n      );\r\n      // to be continue, if err true alert error, if err false submit form to filemaker\r\n      setLoadingFromChild(false);\r\n      console.log(compareData(getCurrentData.priceTable_group));\r\n      //check if traveler is set using totalPrice is more than 0\r\n      if (totalPrice === 0) {\r\n        alert(\"No Traveler is set\");\r\n      } else if (compareData(getCurrentData.priceTable_group)) {\r\n        alert(\"Room is currently not available, please select another room\");\r\n      } else {\r\n        triggerHandleSubmit();\r\n        \r\n      }\r\n    })();\r\n  };\r\n  const handleSubmit = (event) => {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    else {\r\n      alert(\"ok\");\r\n    }\r\n\r\n    setValidated(true);\r\n  };\r\n\r\n  const triggerHandleSubmit = () => {\r\n    formRef.current.dispatchEvent(\r\n      new Event(\"submit\", { bubbles: true, cancelable: true })\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"submit mt-4 pt-4\">\r\n        <div className=\"container p-2 text-center\">\r\n          {/* <h4 className=\"text-wrap\">\r\n            Total Price: {JSON.stringify(totalPrice)}\r\n          </h4>\r\n          <h4 className=\"text-wrap\">\r\n            Total Deposit: {JSON.stringify(totalDeposit)}\r\n          </h4> */}\r\n          {depositList && depositList.people > 0 ? (\r\n            <p>\r\n              訂金 (\r\n              {depositList.people > 0 ? (\r\n                <span>\r\n                  {\" \"}\r\n                  {depositList.people} 人 *{\" \"}\r\n                  {defaultDeposit\r\n                    .toString()\r\n                    .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\")}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {depositList.infant > 0 ? (\r\n                <span>\r\n                  , {depositList.infant} 嬰兒 *{\" \"}\r\n                  {infantDeposit\r\n                    .toString()\r\n                    .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\")}{\" \"}\r\n                </span>\r\n              ) : (\r\n                \"\"\r\n              )}{\" \"}\r\n              )\r\n            </p>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Form\r\n            noValidate\r\n            validated={validated}\r\n            onSubmit={handleSubmit}\r\n            ref={formRef}\r\n          >\r\n            {[\"radio\"].map((type) => (\r\n              <div key={`inline-${type}`} className=\"mb-3\">\r\n                <Form.Check\r\n                  inline\r\n                  label={`全額付款 (台幣 $${totalPrice\r\n                    .toString()\r\n                    .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\")})`}\r\n                  name=\"group1\"\r\n                  type={type}\r\n                  id={`inline-${type}-1`}\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  defaultChecked\r\n                  label={`先付訂金 (台幣 $${totalDeposit\r\n                    .toString()\r\n                    .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\")})`}\r\n                  name=\"group1\"\r\n                  type={type}\r\n                  id={`inline-${type}-2`}\r\n                />\r\n              </div>\r\n            ))}\r\n            <Form.Group className=\"mb-3 px-3\">\r\n              <Form.Check\r\n                required\r\n                inline\r\n                label=\"* 我已閱讀上述報名須知及定型化契約，並同意接受其內容\"\r\n                feedback=\"You must agree before submitting.\"\r\n                feedbackType=\"invalid\"\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n          <div className=\"text-center\">\r\n            <button\r\n              className=\"btn btn-warning m-1 btnPayment fw-bold\"\r\n              onClick={() => onSubmit(\"credit\")}\r\n            >\r\n              線上刷卡\r\n            </button>\r\n            <button\r\n              className=\"btn btn-warning m-1 btnPayment fw-bold\"\r\n              onClick={() => onSubmit(\"atm\")}\r\n            >\r\n              匯款\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { Container, Row, Col } from \"react-bootstrap\";\r\nexport const Footer = () => {\r\n  return (\r\n    <div className=\"footer pb-3 pt-5\">\r\n      <Container className=\"border-top pt-3\">\r\n        <Row>\r\n          <Col xs={12} md={4}>\r\n            <h6 className=\"text-warning\">About Us</h6>\r\n            <p className=\"mb-0\">希羅亞旅行社股份有限公司</p>\r\n            <p><a href=\"https://www.taiwanviptravel.com/\">www.taiwanviptravel.com/</a></p>\r\n            <h6 className=\"text-warning\">Address</h6>\r\n            <p>台灣台北市大安區復興南路一段137號14樓之3</p>\r\n          </Col>\r\n          <Col xs={12} md={4}>\r\n            <h6 className=\"text-warning\">Contact Us</h6>\r\n            <p className=\"mb-0\">電話：02-27217300</p>\r\n            <p className=\"mb-0\">傳真：02-27217179 </p>\r\n            <p>信箱：service@siloahtravel.com</p>\r\n          </Col>\r\n          <Col xs={12} md={4}>\r\n            {/* <Row>\r\n                <Col className=\"text-center bg-primary\">1</Col>\r\n                <Col className=\"text-center bg-warning\">2</Col>\r\n                <Col className=\"text-center bg-primary\">3</Col>\r\n            </Row> */}\r\n            <h6 className=\"text-warning\">Information</h6>\r\n            <p className=\"mb-0\">服務時間：週一～週五 09:00-18:30</p>\r\n            <p className=\"mb-0\">代表人：戴東華</p>\r\n            <p className=\"mb-0\">聯絡人：李婕穎</p>\r\n            <p className=\"mb-0\">交觀甲793500　品保北2260 隱私權條款</p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n","export const Loader = ({ loading }) => {\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <div className=\"loader-wrapper\">          \r\n          <div className=\"loader\"></div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useDispatch } from \"react-redux\";\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { findRecord, getToken, setToken } from \"./store/filemaker\";\nimport { setForm, setPriceTable } from \"./store/form\";\nimport { Header } from \"./components/Header\";\nimport { Content } from \"./components/Content\";\nimport { Agreement } from \"./components/Agreement\";\nimport { Submit } from \"./components/Submit\";\nimport { Footer } from \"./components/Footer\";\nimport { Loader } from \"./components/Loader\";\n\nfunction App() {\n  // const { token } = useSelector((state) => state.filemaker);\n  const [loading, setloading] = useState(false);\n  const dispatch = useDispatch();\n  const queryParams = new URLSearchParams(window.location.search);\n\n  useEffect(() => {\n    (async () => {\n      //Set loading true\n      setloading(true);\n      //Get Filemaker Session Token\n      const res = await getToken();\n      //Save token to store\n      dispatch(setToken(res));\n      const result = await findRecord(queryParams.get(\"groupNumber\"), res);\n      // store fieldata from filemaker\n      dispatch(\n        setForm(\n          JSON.parse(\n            JSON.stringify(result.data[0].fieldData).replaceAll(\n              /(::)|[(]|[)]/g,\n              \"_\"\n            )\n          )\n        )\n      );\n      // store portaldata from filemaker\n      dispatch(\n        setPriceTable(\n          JSON.parse(\n            JSON.stringify(result.data[0].portalData).replaceAll(\n              /(::)|[(]|[)]/g,\n              \"_\"\n            )\n          )\n        )\n      );\n      setloading(false);\n      //  console.log(result)\n      // console.log(JSON.stringify(result.data[0].fieldData).replaceAll(/(::)|[(]|[)]/g,\"_\"));\n    })();\n  }, [dispatch]);\n\n  const setLoadingFromChild = (isTrue) => {\n    setloading(isTrue)\n  }\n  return (\n    <div className=\"App\">\n      <Loader loading={loading} />\n      <Header />\n      <Content />\n      \n      <Agreement />\n      <Submit setLoadingFromChild={setLoadingFromChild}/>\n      <Footer />\n      {/* {loading ? (\n        <div className=\"loader-wrapper\">\n          <div className=\"loader\"></div>\n        </div>\n      ) : (\n        \"\"\n      )} */}\n      {/* <p>{JSON.stringify(form.priceTable)}</p> */}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport filemakerReducer from \"./filemaker\";\r\nimport formReducer from \"./form\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    filemaker: filemakerReducer,\r\n    form: formReducer,\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { store } from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}